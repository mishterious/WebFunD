{"version":3,"sources":["webpack:///24.639f8185f08d7c2e52fd.js","webpack:///./components/password_reset_form.jsx"],"names":["webpackJsonp","2503","module","exports","__webpack_require__","global","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","_getPrototypeOf","_getPrototypeOf2","_classCallCheck2","_classCallCheck3","_createClass2","_createClass3","_possibleConstructorReturn2","_possibleConstructorReturn3","_inherits2","_inherits3","_propTypes","_propTypes2","_react","_react2","_reactDom","_reactDom2","_reactIntl","_user_actions","_constants","_constants2","_utils","Utils","newObj","key","prototype","hasOwnProperty","call","PasswordResetForm","_React$Component","props","this","_this","__proto__","handlePasswordReset","bind","state","e","_this2","preventDefault","password","findDOMNode","refs","length","MIN_PASSWORD_LENGTH","setState","error","createElement","FormattedMessage","id","defaultMessage","values","chars","resetPassword","URLSearchParams","location","search","get","err","message","className","formClass","onSubmit","siteName","window","mm_config","SiteName","type","name","ref","placeholder","localizeMessage","spellCheck","Component","defaultProps","propTypes","params","object","isRequired"],"mappings":"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","file":"24.639f8185f08d7c2e52fd.js","sourcesContent":["webpackJsonp([24],{\n\n/***/ 2503:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(239);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(238);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(242);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(240);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(241);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _propTypes = __webpack_require__(21);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = __webpack_require__(13);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = __webpack_require__(246);\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _reactIntl = __webpack_require__(697);\n\nvar _user_actions = __webpack_require__(717);\n\nvar _constants = __webpack_require__(43);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _utils = __webpack_require__(698);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar PasswordResetForm = function (_React$Component) {\n    (0, _inherits3.default)(PasswordResetForm, _React$Component);\n\n    function PasswordResetForm(props) {\n        (0, _classCallCheck3.default)(this, PasswordResetForm);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (PasswordResetForm.__proto__ || (0, _getPrototypeOf2.default)(PasswordResetForm)).call(this, props));\n\n        _this.handlePasswordReset = _this.handlePasswordReset.bind(_this);\n\n        _this.state = {};\n        return _this;\n    }\n\n    (0, _createClass3.default)(PasswordResetForm, [{\n        key: 'handlePasswordReset',\n        value: function handlePasswordReset(e) {\n            var _this2 = this;\n\n            e.preventDefault();\n\n            var password = _reactDom2.default.findDOMNode(this.refs.password).value;\n            if (!password || password.length < _constants2.default.MIN_PASSWORD_LENGTH) {\n                this.setState({\n                    error: _react2.default.createElement(_reactIntl.FormattedMessage, {\n                        id: 'password_form.error',\n                        defaultMessage: 'Please enter at least {chars} characters.',\n                        values: {\n                            chars: _constants2.default.MIN_PASSWORD_LENGTH\n                        }\n                    })\n                });\n                return;\n            }\n\n            this.setState({\n                error: null\n            });\n\n            (0, _user_actions.resetPassword)(new URLSearchParams(this.props.location.search).get('token'), password, function () {\n                _this2.setState({ error: null });\n            }, function (err) {\n                _this2.setState({ error: err.message });\n            });\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var error = null;\n            if (this.state.error) {\n                error = _react2.default.createElement(\n                    'div',\n                    { className: 'form-group has-error' },\n                    _react2.default.createElement(\n                        'label',\n                        { className: 'control-label' },\n                        this.state.error\n                    )\n                );\n            }\n\n            var formClass = 'form-group';\n            if (error) {\n                formClass += ' has-error';\n            }\n\n            return _react2.default.createElement(\n                'div',\n                { className: 'col-sm-12' },\n                _react2.default.createElement(\n                    'div',\n                    { className: 'signup-team__container' },\n                    _react2.default.createElement(\n                        'h3',\n                        null,\n                        _react2.default.createElement(_reactIntl.FormattedMessage, {\n                            id: 'password_form.title',\n                            defaultMessage: 'Password Reset'\n                        })\n                    ),\n                    _react2.default.createElement(\n                        'form',\n                        { onSubmit: this.handlePasswordReset },\n                        _react2.default.createElement(\n                            'p',\n                            null,\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'password_form.enter',\n                                defaultMessage: 'Enter a new password for your {siteName} account.',\n                                values: {\n                                    siteName: global.window.mm_config.SiteName\n                                }\n                            })\n                        ),\n                        _react2.default.createElement(\n                            'div',\n                            { className: formClass },\n                            _react2.default.createElement('input', {\n                                type: 'password',\n                                className: 'form-control',\n                                name: 'password',\n                                ref: 'password',\n                                placeholder: Utils.localizeMessage('password_form.pwd', 'Password'),\n                                spellCheck: 'false'\n                            })\n                        ),\n                        error,\n                        _react2.default.createElement(\n                            'button',\n                            {\n                                type: 'submit',\n                                className: 'btn btn-primary'\n                            },\n                            _react2.default.createElement(_reactIntl.FormattedMessage, {\n                                id: 'password_form.change',\n                                defaultMessage: 'Change my password'\n                            })\n                        )\n                    )\n                )\n            );\n        }\n    }]);\n    return PasswordResetForm;\n}(_react2.default.Component); // Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nPasswordResetForm.defaultProps = {};\nPasswordResetForm.propTypes = {\n    params: _propTypes2.default.object.isRequired,\n    location: _propTypes2.default.object.isRequired\n};\n\nexports.default = PasswordResetForm;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(22)))\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 24.639f8185f08d7c2e52fd.js","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See License.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport {FormattedMessage} from 'react-intl';\n\nimport {resetPassword} from 'actions/user_actions.jsx';\nimport Constants from 'utils/constants.jsx';\nimport * as Utils from 'utils/utils.jsx';\n\nclass PasswordResetForm extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.handlePasswordReset = this.handlePasswordReset.bind(this);\n\n        this.state = {};\n    }\n    handlePasswordReset(e) {\n        e.preventDefault();\n\n        const password = ReactDOM.findDOMNode(this.refs.password).value;\n        if (!password || password.length < Constants.MIN_PASSWORD_LENGTH) {\n            this.setState({\n                error: (\n                    <FormattedMessage\n                        id='password_form.error'\n                        defaultMessage='Please enter at least {chars} characters.'\n                        values={{\n                            chars: Constants.MIN_PASSWORD_LENGTH\n                        }}\n                    />\n                )\n            });\n            return;\n        }\n\n        this.setState({\n            error: null\n        });\n\n        resetPassword(\n            (new URLSearchParams(this.props.location.search)).get('token'),\n            password,\n            () => {\n                this.setState({error: null});\n            },\n            (err) => {\n                this.setState({error: err.message});\n            }\n        );\n    }\n    render() {\n        var error = null;\n        if (this.state.error) {\n            error = (\n                <div className='form-group has-error'>\n                    <label className='control-label'>\n                        {this.state.error}\n                    </label>\n                </div>\n            );\n        }\n\n        var formClass = 'form-group';\n        if (error) {\n            formClass += ' has-error';\n        }\n\n        return (\n            <div className='col-sm-12'>\n                <div className='signup-team__container'>\n                    <h3>\n                        <FormattedMessage\n                            id='password_form.title'\n                            defaultMessage='Password Reset'\n                        />\n                    </h3>\n                    <form onSubmit={this.handlePasswordReset}>\n                        <p>\n                            <FormattedMessage\n                                id='password_form.enter'\n                                defaultMessage='Enter a new password for your {siteName} account.'\n                                values={{\n                                    siteName: global.window.mm_config.SiteName\n                                }}\n                            />\n                        </p>\n                        <div className={formClass}>\n                            <input\n                                type='password'\n                                className='form-control'\n                                name='password'\n                                ref='password'\n                                placeholder={Utils.localizeMessage(\n                                    'password_form.pwd',\n                                    'Password'\n                                )}\n                                spellCheck='false'\n                            />\n                        </div>\n                        {error}\n                        <button\n                            type='submit'\n                            className='btn btn-primary'\n                        >\n                            <FormattedMessage\n                                id='password_form.change'\n                                defaultMessage='Change my password'\n                            />\n                        </button>\n                    </form>\n                </div>\n            </div>\n        );\n    }\n}\n\nPasswordResetForm.defaultProps = {\n};\nPasswordResetForm.propTypes = {\n    params: PropTypes.object.isRequired,\n    location: PropTypes.object.isRequired\n};\n\nexport default PasswordResetForm;\n\n\n\n// WEBPACK FOOTER //\n// ./components/password_reset_form.jsx"],"sourceRoot":""}