webpackJsonp([3],{1228:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(239),o=n(r),s=a(238),l=n(s),i=a(242),d=n(i),u=a(240),c=n(u),m=a(241),f=n(m),p=a(21),g=n(p),h=a(13),_=n(h),v=a(43),E=n(v),b=a(758),k=n(b),M=function(e){function t(e){(0,l.default)(this,t);var a=(0,c.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));if(a.handleOpenModal=function(e){e.preventDefault(),a.setState({showDeleteModal:!0})},a.handleConfirm=function(){a.props.onDelete()},a.handleCancel=function(){a.setState({showDeleteModal:!1})},a.handleKeyDown=function(e){e.keyCode===E.default.KeyCodes.ENTER&&a.handleConfirm(e)},a.constructor===t)throw new TypeError("Can not construct abstract class.");return a.state={showDeleteModal:!1},a}return(0,f.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){return _.default.createElement("span",null,_.default.createElement("button",{className:"color--link style--none",onClick:this.handleOpenModal},this.triggerTitle),_.default.createElement(k.default,{show:this.state.showDeleteModal,title:this.modalTitle,message:this.modalMessage,confirmButtonText:this.modalConfirmButton,onConfirm:this.handleConfirm,onCancel:this.handleCancel,onKeyDown:this.handleKeyDown}))}}]),t}(_.default.PureComponent);M.propTypes={onDelete:g.default.func.isRequired},t.default=M},1229:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(239),o=n(r),s=a(238),l=n(s),i=a(242),d=n(i),u=a(240),c=n(u),m=a(241),f=n(m),p=a(21),g=n(p),h=a(13),_=n(h),v=a(697),E=a(244),b=a(850),k=n(b),M=a(1230),y=n(M),w=a(762),N=n(w),C=a(873),A=n(C),O=function(e){function t(e){(0,l.default)(this,t);var a=(0,c.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return a.getStateFromHook=function(e){return{displayName:e.display_name||"",description:e.description||"",channelId:e.channel_id||"",username:e.username||"",iconURL:e.icon_url||"",saving:!1,serverError:"",clientError:null}},a.handleSubmit=function(e){if(e.preventDefault(),!a.state.saving){if(a.setState({saving:!0,serverError:"",clientError:""}),!a.state.channelId)return void a.setState({saving:!1,clientError:_.default.createElement(v.FormattedMessage,{id:"add_incoming_webhook.channelRequired",defaultMessage:"A valid channel is required"})});var t={channel_id:a.state.channelId,display_name:a.state.displayName,description:a.state.description,username:a.state.username,icon_url:a.state.iconURL};a.props.action(t).then(function(){return a.setState({saving:!1})})}},a.updateDisplayName=function(e){a.setState({displayName:e.target.value})},a.updateDescription=function(e){a.setState({description:e.target.value})},a.updateChannelId=function(e){a.setState({channelId:e.target.value})},a.updateUsername=function(e){a.setState({username:e.target.value})},a.updateIconURL=function(e){a.setState({iconURL:e.target.value})},a.state=a.getStateFromHook(a.props.initialHook||{}),a}return(0,f.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e=this.props.header,t=this.props.footer;return _.default.createElement("div",{className:"backstage-content"},_.default.createElement(k.default,null,_.default.createElement(E.Link,{to:"/"+this.props.team.name+"/integrations/incoming_webhooks"},_.default.createElement(v.FormattedMessage,{id:"installed_incoming_webhooks.header",defaultMessage:"Incoming Webhooks"})),_.default.createElement(v.FormattedMessage,{id:e.id,defaultMessage:e.defaultMessage})),_.default.createElement("div",{className:"backstage-form"},_.default.createElement("form",{className:"form-horizontal",onSubmit:this.handleSubmit},_.default.createElement("div",{className:"form-group"},_.default.createElement("label",{className:"control-label col-sm-4",htmlFor:"displayName"},_.default.createElement(v.FormattedMessage,{id:"add_incoming_webhook.displayName",defaultMessage:"Title"})),_.default.createElement("div",{className:"col-md-5 col-sm-8"},_.default.createElement("input",{id:"displayName",type:"text",maxLength:"64",className:"form-control",value:this.state.displayName,onChange:this.updateDisplayName}),_.default.createElement("div",{className:"form__help"},_.default.createElement(v.FormattedMessage,{id:"add_incoming_webhook.displayName.help",defaultMessage:"Choose a title to be displayed on the webhook settings page. Maximum 64 characters."})))),_.default.createElement("div",{className:"form-group"},_.default.createElement("label",{className:"control-label col-sm-4",htmlFor:"description"},_.default.createElement(v.FormattedMessage,{id:"add_incoming_webhook.description",defaultMessage:"Description"})),_.default.createElement("div",{className:"col-md-5 col-sm-8"},_.default.createElement("input",{id:"description",type:"text",maxLength:"128",className:"form-control",value:this.state.description,onChange:this.updateDescription}),_.default.createElement("div",{className:"form__help"},_.default.createElement(v.FormattedMessage,{id:"add_incoming_webhook.description.help",defaultMessage:"Description for your incoming webhook."})))),_.default.createElement("div",{className:"form-group"},_.default.createElement("label",{className:"control-label col-sm-4",htmlFor:"channelId"},_.default.createElement(v.FormattedMessage,{id:"add_incoming_webhook.channel",defaultMessage:"Channel"})),_.default.createElement("div",{className:"col-md-5 col-sm-8"},_.default.createElement(y.default,{id:"channelId",value:this.state.channelId,onChange:this.updateChannelId,selectOpen:!0,selectPrivate:!0}),_.default.createElement("div",{className:"form__help"},_.default.createElement(v.FormattedMessage,{id:"add_incoming_webhook.channel.help",defaultMessage:"Public or private channel that receives the webhook payloads. You must belong to the private channel when setting up the webhook."})))),this.props.enablePostUsernameOverride&&_.default.createElement("div",{className:"form-group"},_.default.createElement("label",{className:"control-label col-sm-4",htmlFor:"username"},_.default.createElement(v.FormattedMessage,{id:"add_incoming_webhook.username",defaultMessage:"Username"})),_.default.createElement("div",{className:"col-md-5 col-sm-8"},_.default.createElement("input",{id:"username",type:"text",maxLength:"22",className:"form-control",value:this.state.username,onChange:this.updateUsername}),_.default.createElement("div",{className:"form__help"},_.default.createElement(v.FormattedMessage,{id:"add_incoming_webhook.username.help",defaultMessage:'Choose the username this integration will post as. Usernames can be up to 22 characters, and may contain lowercase letters, numbers and the symbols "-", "_", and ".".'})))),this.props.enablePostIconOverride&&_.default.createElement("div",{className:"form-group"},_.default.createElement("label",{className:"control-label col-sm-4",htmlFor:"iconURL"},_.default.createElement(v.FormattedMessage,{id:"add_incoming_webhook.icon_url",defaultMessage:"Profile Picture"})),_.default.createElement("div",{className:"col-md-5 col-sm-8"},_.default.createElement("input",{id:"iconURL",type:"text",maxLength:"1024",className:"form-control",value:this.state.iconURL,onChange:this.updateIconURL}),_.default.createElement("div",{className:"form__help"},_.default.createElement(v.FormattedMessage,{id:"add_incoming_webhook.icon_url.help",defaultMessage:"Choose the profile picture this integration will use when posting. Enter the URL of a .png or .jpg file at least 128 pixels by 128 pixels."})))),_.default.createElement("div",{className:"backstage-form__footer"},_.default.createElement(N.default,{type:"backstage",errors:[this.props.serverError,this.state.clientError]}),_.default.createElement(E.Link,{className:"btn btn-sm",to:"/"+this.props.team.name+"/integrations/incoming_webhooks"},_.default.createElement(v.FormattedMessage,{id:"add_incoming_webhook.cancel",defaultMessage:"Cancel"})),_.default.createElement(A.default,{className:"btn btn-primary",type:"submit",spinning:this.state.saving,onClick:this.handleSubmit},_.default.createElement(v.FormattedMessage,{id:t.id,defaultMessage:t.defaultMessage}))))))}}]),t}(_.default.Component);O.propTypes={team:g.default.object.isRequired,header:g.default.object.isRequired,footer:g.default.object.isRequired,serverError:g.default.string.isRequired,initialHook:g.default.object,enablePostUsernameOverride:g.default.bool.isRequired,enablePostIconOverride:g.default.bool.isRequired,action:g.default.func.isRequired},t.default=O},1230:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(239),o=n(r),s=a(238),l=n(s),i=a(240),d=n(i),u=a(242),c=n(u),m=a(241),f=n(m),p=a(21),g=n(p),h=a(13),_=n(h),v=a(720),E=n(v),b=a(756),k=a(43),M=n(k),y=a(698),w=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(y),N=function(e){function t(e){(0,l.default)(this,t);var a=(0,d.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return a.handleChannelChange=a.handleChannelChange.bind(a),a.filterChannels=a.filterChannels.bind(a),a.state={channels:E.default.getAll().filter(a.filterChannels).sort(b.sortChannelsByDisplayName)},a}return(0,f.default)(t,e),(0,c.default)(t,null,[{key:"propTypes",get:function(){return{onChange:g.default.func,value:g.default.string,selectOpen:g.default.bool.isRequired,selectPrivate:g.default.bool.isRequired,selectDm:g.default.bool.isRequired}}},{key:"defaultProps",get:function(){return{selectOpen:!1,selectPrivate:!1,selectDm:!1}}}]),(0,c.default)(t,[{key:"componentDidMount",value:function(){E.default.addChangeListener(this.handleChannelChange)}},{key:"componentWillUnmount",value:function(){E.default.removeChangeListener(this.handleChannelChange)}},{key:"handleChannelChange",value:function(){this.setState({channels:E.default.getAll().filter(this.filterChannels).sort(b.sortChannelsByDisplayName)})}},{key:"filterChannels",value:function(e){return!!e.display_name}},{key:"render",value:function(){var e=this,t=[_.default.createElement("option",{key:"",value:""},w.localizeMessage("channel_select.placeholder","--- Select a channel ---"))];return this.state.channels.forEach(function(a){a.type===M.default.OPEN_CHANNEL&&e.props.selectOpen?t.push(_.default.createElement("option",{key:a.id,value:a.id},a.display_name)):a.type===M.default.PRIVATE_CHANNEL&&e.props.selectPrivate?t.push(_.default.createElement("option",{key:a.id,value:a.id},a.display_name)):a.type===M.default.DM_CHANNEL&&e.props.selectDm&&t.push(_.default.createElement("option",{key:a.id,value:a.id},a.display_name))}),_.default.createElement("select",{className:"form-control",value:this.props.value,onChange:this.props.onChange},t)}}]),t}(_.default.Component);t.default=N},1231:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(722),o=n(r),s=a(239),l=n(s),i=a(238),d=n(i),u=a(242),c=n(u),m=a(240),f=n(m),p=a(241),g=n(p),h=a(21),_=n(h),v=a(13),E=n(v),b=a(697),k=a(244),M=a(713),y=n(M),w=a(698),N=a(850),C=n(N),A=a(1230),O=n(A),j=a(762),S=n(j),F=a(873),R=n(F),T=function(e){function t(e){(0,d.default)(this,t);var a=(0,f.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return a.getStateFromHook=function(e){var t="";if(e.trigger_words){var a=0;for(a=0;a<e.trigger_words.length;a++)t+=e.trigger_words[a]+"\n"}var n="";if(e.callback_urls){var r=0;for(r=0;r<e.callback_urls.length;r++)n+=e.callback_urls[r]+"\n"}return{displayName:e.display_name||"",description:e.description||"",contentType:e.content_type||"application/x-www-form-urlencoded",channelId:e.channel_id||"",triggerWords:t,triggerWhen:e.trigger_when||0,callbackUrls:n,saving:!1,clientError:null}},a.handleSubmit=function(e){if(e.preventDefault(),!a.state.saving){a.setState({saving:!0,clientError:""});var t=[];if(a.state.triggerWords){var n=!0,r=!1,s=void 0;try{for(var l,i=(0,o.default)(a.state.triggerWords.split("\n"));!(n=(l=i.next()).done);n=!0){var d=l.value;d=d.trim(),d.length>0&&t.push(d)}}catch(e){r=!0,s=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw s}}}if(!a.state.channelId&&0===t.length)return void a.setState({saving:!1,clientError:E.default.createElement(b.FormattedMessage,{id:"add_outgoing_webhook.triggerWordsOrChannelRequired",defaultMessage:"A valid channel or a list of trigger words is required"})});var u=[],c=!0,m=!1,f=void 0;try{for(var p,g=(0,o.default)(a.state.callbackUrls.split("\n"));!(c=(p=g.next()).done);c=!0){var h=p.value;h=h.trim(),h.length>0&&u.push(h)}}catch(e){m=!0,f=e}finally{try{!c&&g.return&&g.return()}finally{if(m)throw f}}if(0===u.length)return void a.setState({saving:!1,clientError:E.default.createElement(b.FormattedMessage,{id:"add_outgoing_webhook.callbackUrlsRequired",defaultMessage:"One or more callback URLs are required"})});var _={team_id:y.default.getCurrentId(),channel_id:a.state.channelId,trigger_words:t,trigger_when:parseInt(a.state.triggerWhen,10),callback_urls:u,display_name:a.state.displayName,content_type:a.state.contentType,description:a.state.description};a.props.action(_).then(function(){return a.setState({saving:!1})})}},a.updateDisplayName=function(e){a.setState({displayName:e.target.value})},a.updateDescription=function(e){a.setState({description:e.target.value})},a.updateContentType=function(e){a.setState({contentType:e.target.value})},a.updateChannelId=function(e){a.setState({channelId:e.target.value})},a.updateTriggerWords=function(e){a.setState({triggerWords:e.target.value})},a.updateTriggerWhen=function(e){a.setState({triggerWhen:e.target.value})},a.updateCallbackUrls=function(e){a.setState({callbackUrls:e.target.value})},a.state=a.getStateFromHook(a.props.initialHook||{}),a}return(0,g.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e=this.props.header,t=this.props.footer,a=this.props.renderExtra;return E.default.createElement("div",{className:"backstage-content"},E.default.createElement(C.default,null,E.default.createElement(k.Link,{to:"/"+this.props.team.name+"/integrations/outgoing_webhooks"},E.default.createElement(b.FormattedMessage,{id:"installed_outgoing_webhooks.header",defaultMessage:"Outgoing Webhooks"})),E.default.createElement(b.FormattedMessage,{id:e.id,defaultMessage:e.defaultMessage})),E.default.createElement("div",{className:"backstage-form"},E.default.createElement("form",{className:"form-horizontal",onSubmit:this.handleSubmit},E.default.createElement("div",{className:"form-group"},E.default.createElement("label",{className:"control-label col-sm-4",htmlFor:"displayName"},E.default.createElement(b.FormattedMessage,{id:"add_outgoing_webhook.displayName",defaultMessage:"Title"})),E.default.createElement("div",{className:"col-md-5 col-sm-8"},E.default.createElement("input",{id:"displayName",type:"text",maxLength:"64",className:"form-control",value:this.state.displayName,onChange:this.updateDisplayName}),E.default.createElement("div",{className:"form__help"},E.default.createElement(b.FormattedMessage,{id:"add_outgoing_webhook.displayName.help",defaultMessage:"Choose a title to be displayed on the webhook settings page. Maximum 64 characters."})))),E.default.createElement("div",{className:"form-group"},E.default.createElement("label",{className:"control-label col-sm-4",htmlFor:"description"},E.default.createElement(b.FormattedMessage,{id:"add_outgoing_webhook.description",defaultMessage:"Description"})),E.default.createElement("div",{className:"col-md-5 col-sm-8"},E.default.createElement("input",{id:"description",type:"text",maxLength:"128",className:"form-control",value:this.state.description,onChange:this.updateDescription}),E.default.createElement("div",{className:"form__help"},E.default.createElement(b.FormattedMessage,{id:"add_outgoing_webhook.description.help",defaultMessage:"Description for your incoming webhook."})))),E.default.createElement("div",{className:"form-group"},E.default.createElement("label",{className:"control-label col-sm-4",htmlFor:"contentType"},E.default.createElement(b.FormattedMessage,{id:"add_outgoing_webhook.content_Type",defaultMessage:"Content Type"})),E.default.createElement("div",{className:"col-md-5 col-sm-8"},E.default.createElement("select",{className:"form-control",value:this.state.contentType,onChange:this.updateContentType},E.default.createElement("option",{value:"application/x-www-form-urlencoded"},"application/x-www-form-urlencoded"),E.default.createElement("option",{value:"application/json"},"application/json")),E.default.createElement("div",{className:"form__help"},E.default.createElement(b.FormattedMessage,{id:"add_outgoing_webhook.contentType.help1",defaultMessage:"Choose the content type by which the response will be sent."})),E.default.createElement("div",{className:"form__help"},E.default.createElement(b.FormattedMessage,{id:"add_outgoing_webhook.contentType.help2",defaultMessage:"If application/x-www-form-urlencoded is chosen, the server assumes you will be encoding the parameters in a URL format."})),E.default.createElement("div",{className:"form__help"},E.default.createElement(b.FormattedMessage,{id:"add_outgoing_webhook.contentType.help3",defaultMessage:"If application/json is chosen, the server assumes you will posting JSON data."})))),E.default.createElement("div",{className:"form-group"},E.default.createElement("label",{className:"control-label col-sm-4",htmlFor:"channelId"},E.default.createElement(b.FormattedMessage,{id:"add_outgoing_webhook.channel",defaultMessage:"Channel"})),E.default.createElement("div",{className:"col-md-5 col-sm-8"},E.default.createElement(O.default,{id:"channelId",value:this.state.channelId,onChange:this.updateChannelId,selectOpen:!0}),E.default.createElement("div",{className:"form__help"},E.default.createElement(b.FormattedMessage,{id:"add_outgoing_webhook.channel.help",defaultMessage:"Public channel to receive webhook payloads. Optional if at least one Trigger Word is specified."})))),E.default.createElement("div",{className:"form-group"},E.default.createElement("label",{className:"control-label col-sm-4",htmlFor:"triggerWords"},E.default.createElement(b.FormattedMessage,{id:"add_outgoing_webhook.triggerWords",defaultMessage:"Trigger Words (One Per Line)"})),E.default.createElement("div",{className:"col-md-5 col-sm-8"},E.default.createElement("textarea",{id:"triggerWords",rows:"3",maxLength:"1000",className:"form-control",value:this.state.triggerWords,onChange:this.updateTriggerWords}),E.default.createElement("div",{className:"form__help"},E.default.createElement(b.FormattedMessage,{id:"add_outgoing_webhook.triggerWords.help",defaultMessage:"Messages that start with one of the specified words will trigger the outgoing webhook. Optional if Channel is selected."})))),E.default.createElement("div",{className:"form-group"},E.default.createElement("label",{className:"control-label col-sm-4",htmlFor:"triggerWords"},E.default.createElement(b.FormattedMessage,{id:"add_outgoing_webhook.triggerWordsTriggerWhen",defaultMessage:"Trigger When"})),E.default.createElement("div",{className:"col-md-5 col-sm-8"},E.default.createElement("select",{className:"form-control",value:this.state.triggerWhen,onChange:this.updateTriggerWhen},E.default.createElement("option",{value:"0"},(0,w.localizeMessage)("add_outgoing_webhook.triggerWordsTriggerWhenFullWord","First word matches a trigger word exactly")),E.default.createElement("option",{value:"1"},(0,w.localizeMessage)("add_outgoing_webhook.triggerWordsTriggerWhenStartsWith","First word starts with a trigger word"))),E.default.createElement("div",{className:"form__help"},E.default.createElement(b.FormattedMessage,{id:"add_outgoing_webhook.triggerWordsTriggerWhen.help",defaultMessage:"Choose when to trigger the outgoing webhook; if the first word of a message matches a Trigger Word exactly, or if it starts with a Trigger Word."})))),E.default.createElement("div",{className:"form-group"},E.default.createElement("label",{className:"control-label col-sm-4",htmlFor:"callbackUrls"},E.default.createElement(b.FormattedMessage,{id:"add_outgoing_webhook.callbackUrls",defaultMessage:"Callback URLs (One Per Line)"})),E.default.createElement("div",{className:"col-md-5 col-sm-8"},E.default.createElement("textarea",{id:"callbackUrls",rows:"3",maxLength:"1000",className:"form-control",value:this.state.callbackUrls,onChange:this.updateCallbackUrls}),E.default.createElement("div",{className:"form__help"},E.default.createElement(b.FormattedMessage,{id:"add_outgoing_webhook.callbackUrls.help",defaultMessage:"The URL that messages will be sent to."})))),E.default.createElement("div",{className:"backstage-form__footer"},E.default.createElement(S.default,{type:"backstage",errors:[this.props.serverError,this.state.clientError]}),E.default.createElement(k.Link,{className:"btn btn-sm",to:"/"+this.props.team.name+"/integrations/outgoing_webhooks"},E.default.createElement(b.FormattedMessage,{id:"add_outgoing_webhook.cancel",defaultMessage:"Cancel"})),E.default.createElement(R.default,{className:"btn btn-primary",type:"submit",spinning:this.state.saving,onClick:this.handleSubmit},E.default.createElement(b.FormattedMessage,{id:t.id,defaultMessage:t.defaultMessage})),a))))}}]),t}(E.default.Component);T.propTypes={team:_.default.object.isRequired,header:_.default.object.isRequired,footer:_.default.object.isRequired,renderExtra:_.default.node.isRequired,serverError:_.default.string.isRequired,initialHook:_.default.object,action:_.default.func.isRequired},t.default=T},1232:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(722),o=n(r),s=a(239),l=n(s),i=a(238),d=n(i),u=a(242),c=n(u),m=a(240),f=n(m),p=a(241),g=n(p),h=a(13),_=n(h),v=a(21),E=n(v),b=a(697),k=a(244),M=a(850),y=n(M),w=a(762),N=n(w),C=a(873),A=n(C),O=function(e){function t(e){(0,d.default)(this,t);var a=(0,f.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return a.getStateFromApp=function(e){return{name:e.name||"",description:e.description||"",homepage:e.homepage||"",icon_url:e.icon_url||"",callbackUrls:e.callback_urls?e.callback_urls.join("\n"):"",is_trusted:e.is_trusted||!1,has_icon:Boolean(e.icon_url),saving:!1,clientError:null}},a.imageLoaded=function(){a.setState({has_icon:!0,icon_url:a.refs.icon_url.value})},a.handleSubmit=function(e){if(e.preventDefault(),!a.state.saving){if(a.setState({saving:!0,clientError:""}),!a.state.name)return void a.setState({saving:!1,clientError:_.default.createElement(b.FormattedMessage,{id:"add_oauth_app.nameRequired",defaultMessage:"Name for the OAuth 2.0 application is required."})});if(!a.state.description)return void a.setState({saving:!1,clientError:_.default.createElement(b.FormattedMessage,{id:"add_oauth_app.descriptionRequired",defaultMessage:"Description for the OAuth 2.0 application is required."})});if(!a.state.homepage)return void a.setState({saving:!1,clientError:_.default.createElement(b.FormattedMessage,{id:"add_oauth_app.homepageRequired",defaultMessage:"Homepage for the OAuth 2.0 application is required."})});var t=[],n=!0,r=!1,s=void 0;try{for(var l,i=(0,o.default)(a.state.callbackUrls.split("\n"));!(n=(l=i.next()).done);n=!0){var d=l.value;d=d.trim(),d.length>0&&t.push(d)}}catch(e){r=!0,s=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw s}}if(0===t.length)return void a.setState({saving:!1,clientError:_.default.createElement(b.FormattedMessage,{id:"add_oauth_app.callbackUrlsRequired",defaultMessage:"One or more callback URLs are required."})});var u={name:a.state.name,callback_urls:t,homepage:a.state.homepage,description:a.state.description,is_trusted:a.state.is_trusted,icon_url:a.state.icon_url};a.props.action(u).then(function(){return a.setState({saving:!1})})}},a.updateName=function(e){a.setState({name:e.target.value})},a.updateTrusted=function(e){a.setState({is_trusted:"true"===e.target.value})},a.updateDescription=function(e){a.setState({description:e.target.value})},a.updateHomepage=function(e){a.setState({homepage:e.target.value})},a.updateIconUrl=function(e){a.setState({has_icon:!1,icon_url:e.target.value}),a.image.src=e.target.value},a.updateCallbackUrls=function(e){a.setState({callbackUrls:e.target.value})},a.image=new Image,a.image.onload=a.imageLoaded,a.state=a.getStateFromApp(a.props.initialApp||{}),a}return(0,g.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e=this.props.header,t=this.props.footer,a=this.props.renderExtra,n=void 0;this.state.has_icon&&(n=_.default.createElement("div",{className:"integration__icon"},_.default.createElement("img",{src:this.state.icon_url})));var r=void 0;return this.props.isSystemAdmin&&(r=_.default.createElement("div",{className:"form-group"},_.default.createElement("label",{className:"control-label col-sm-4",htmlFor:"is_trusted"},_.default.createElement(b.FormattedMessage,{id:"installed_oauth_apps.trusted",defaultMessage:"Is Trusted"})),_.default.createElement("div",{className:"col-md-5 col-sm-8"},_.default.createElement("label",{className:"radio-inline"},_.default.createElement("input",{type:"radio",value:"true",name:"is_trusted",checked:this.state.is_trusted,onChange:this.updateTrusted}),_.default.createElement(b.FormattedMessage,{id:"installed_oauth_apps.trusted.yes",defaultMessage:"Yes"})),_.default.createElement("label",{className:"radio-inline"},_.default.createElement("input",{type:"radio",value:"false",name:"is_trusted",checked:!this.state.is_trusted,onChange:this.updateTrusted}),_.default.createElement(b.FormattedMessage,{id:"installed_oauth_apps.trusted.no",defaultMessage:"No"})),_.default.createElement("div",{className:"form__help"},_.default.createElement(b.FormattedMessage,{id:"add_oauth_app.trusted.help",defaultMessage:"When true, the OAuth 2.0 application is considered trusted by the Mattermost server and doesn't require the user to accept authorization. When false, an additional window will appear, asking the user to accept or deny the authorization."}))))),_.default.createElement("div",{className:"backstage-content"},_.default.createElement(y.default,null,_.default.createElement(k.Link,{to:"/"+this.props.team.name+"/integrations/oauth2-apps"},_.default.createElement(b.FormattedMessage,{id:"installed_oauth_apps.header",defaultMessage:"Installed OAuth2 Apps"})),_.default.createElement(b.FormattedMessage,{id:e.id,defaultMessage:e.defaultMessage})),_.default.createElement("div",{className:"backstage-form"},n,_.default.createElement("form",{className:"form-horizontal"},r,_.default.createElement("div",{className:"form-group"},_.default.createElement("label",{className:"control-label col-sm-4",htmlFor:"name"},_.default.createElement(b.FormattedMessage,{id:"installed_oauth_apps.name",defaultMessage:"Display Name"})),_.default.createElement("div",{className:"col-md-5 col-sm-8"},_.default.createElement("input",{id:"name",type:"text",maxLength:"64",className:"form-control",value:this.state.name,onChange:this.updateName}),_.default.createElement("div",{className:"form__help"},_.default.createElement(b.FormattedMessage,{id:"add_oauth_app.name.help",defaultMessage:"Display name for your OAuth 2.0 application made of up to 64 characters."})))),_.default.createElement("div",{className:"form-group"},_.default.createElement("label",{className:"control-label col-sm-4",htmlFor:"description"},_.default.createElement(b.FormattedMessage,{id:"installed_oauth_apps.description",defaultMessage:"Description"})),_.default.createElement("div",{className:"col-md-5 col-sm-8"},_.default.createElement("input",{id:"description",type:"text",maxLength:"512",className:"form-control",value:this.state.description,onChange:this.updateDescription}),_.default.createElement("div",{className:"form__help"},_.default.createElement(b.FormattedMessage,{id:"add_oauth_app.description.help",defaultMessage:"Description for your OAuth 2.0 application."})))),_.default.createElement("div",{className:"form-group"},_.default.createElement("label",{className:"control-label col-sm-4",htmlFor:"homepage"},_.default.createElement(b.FormattedMessage,{id:"installed_oauth_apps.homepage",defaultMessage:"Homepage"})),_.default.createElement("div",{className:"col-md-5 col-sm-8"},_.default.createElement("input",{id:"homepage",type:"url",maxLength:"256",className:"form-control",value:this.state.homepage,onChange:this.updateHomepage}),_.default.createElement("div",{className:"form__help"},_.default.createElement(b.FormattedMessage,{id:"add_oauth_app.homepage.help",defaultMessage:"The URL for the homepage of the OAuth 2.0 application. Make sure you use HTTP or HTTPS in your URL depending on your server configuration."})))),_.default.createElement("div",{className:"form-group"},_.default.createElement("label",{className:"control-label col-sm-4",htmlFor:"icon_url"},_.default.createElement(b.FormattedMessage,{id:"installed_oauth_apps.iconUrl",defaultMessage:"Icon URL"})),_.default.createElement("div",{className:"col-md-5 col-sm-8"},_.default.createElement("input",{id:"icon_url",ref:"icon_url",type:"url",maxLength:"512",className:"form-control",value:this.state.icon_url,onChange:this.updateIconUrl}),_.default.createElement("div",{className:"form__help"},_.default.createElement(b.FormattedMessage,{id:"add_oauth_app.icon.help",defaultMessage:"The URL for the homepage of the OAuth 2.0 application. Make sure you use HTTP or HTTPS in your URL depending on your server configuration."})))),_.default.createElement("div",{className:"form-group"},_.default.createElement("label",{className:"control-label col-sm-4",htmlFor:"callbackUrls"},_.default.createElement(b.FormattedMessage,{id:"installed_oauth_apps.callbackUrls",defaultMessage:"Callback URLs (One Per Line)"})),_.default.createElement("div",{className:"col-md-5 col-sm-8"},_.default.createElement("textarea",{id:"callbackUrls",rows:"3",maxLength:"1024",className:"form-control",value:this.state.callbackUrls,onChange:this.updateCallbackUrls}),_.default.createElement("div",{className:"form__help"},_.default.createElement(b.FormattedMessage,{id:"add_oauth_app.callbackUrls.help",defaultMessage:"The redirect URIs to which the service will redirect users after accepting or denying authorization of your application, and which will handle authorization codes or access tokens. Must be a valid URL and start with http:// or https://."})))),_.default.createElement("div",{className:"backstage-form__footer"},_.default.createElement(N.default,{type:"backstage",errors:[this.props.serverError,this.state.clientError]}),_.default.createElement(k.Link,{className:"btn btn-sm",to:"/"+this.props.team.name+"/integrations/oauth2-apps"},_.default.createElement(b.FormattedMessage,{id:"installed_oauth_apps.cancel",defaultMessage:"Cancel"})),_.default.createElement(A.default,{className:"btn btn-primary",type:"submit",spinning:this.state.saving,onClick:this.handleSubmit},_.default.createElement(b.FormattedMessage,{id:t.id,defaultMessage:t.defaultMessage})),a))))}}]),t}(_.default.PureComponent);O.propTypes={team:E.default.object.isRequired,isSystemAdmin:E.default.bool,header:E.default.object.isRequired,footer:E.default.object.isRequired,renderExtra:E.default.node.isRequired,serverError:E.default.string.isRequired,initialApp:E.default.object,action:E.default.func.isRequired},t.default=O},1233:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(239),o=n(r),s=a(238),l=n(s),i=a(242),d=n(i),u=a(240),c=n(u),m=a(241),f=n(m),p=a(13),g=n(p),h=a(21),_=n(h),v=a(697),E=a(244),b=a(850),k=n(b),M=a(43),y=n(M),w=a(698),N=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(w),C=a(762),A=n(C),O=a(873),j=n(O),S="P",F=function(e){function t(e){(0,l.default)(this,t);var a=(0,c.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return a.getStateFromCommand=function(e){return{displayName:e.display_name||"",description:e.description||"",trigger:e.trigger||"",url:e.url||"",method:e.method||S,username:e.username||"",iconUrl:e.icon_url||"",autocomplete:e.auto_complete||!1,autocompleteHint:e.auto_complete_hint||"",autocompleteDescription:e.auto_complete_desc||"",saving:!1,clientError:null}},a.handleSubmit=function(e){if(e.preventDefault(),!a.state.saving){a.setState({saving:!0,clientError:""});var t=a.state.trigger.trim().toLowerCase();0===t.indexOf("/")&&(t=t.substr(1));var n={display_name:a.state.displayName,description:a.state.description,trigger:t,url:a.state.url.trim(),method:a.state.method,username:a.state.username,icon_url:a.state.iconUrl,auto_complete:a.state.autocomplete,team_id:a.props.team.id};return n.auto_complete&&(n.auto_complete_desc=a.state.autocompleteDescription,n.auto_complete_hint=a.state.autocompleteHint),n.trigger?0===n.trigger.indexOf("/")?void a.setState({saving:!1,clientError:g.default.createElement(v.FormattedMessage,{id:"add_command.triggerInvalidSlash",defaultMessage:"A trigger word cannot begin with a /"})}):-1!==n.trigger.indexOf(" ")?void a.setState({saving:!1,clientError:g.default.createElement(v.FormattedMessage,{id:"add_command.triggerInvalidSpace",defaultMessage:"A trigger word must not contain spaces"})}):n.trigger.length<y.default.MIN_TRIGGER_LENGTH||n.trigger.length>y.default.MAX_TRIGGER_LENGTH?void a.setState({saving:!1,clientError:g.default.createElement(v.FormattedMessage,{id:"add_command.triggerInvalidLength",defaultMessage:"A trigger word must contain between {min} and {max} characters",values:{min:y.default.MIN_TRIGGER_LENGTH,max:y.default.MAX_TRIGGER_LENGTH}})}):n.url?void a.props.action(n).then(function(){return a.setState({saving:!1})}):void a.setState({saving:!1,clientError:g.default.createElement(v.FormattedMessage,{id:"add_command.urlRequired",defaultMessage:"A request URL is required"})}):void a.setState({saving:!1,clientError:g.default.createElement(v.FormattedMessage,{id:"add_command.triggerRequired",defaultMessage:"A trigger word is required"})})}},a.updateDisplayName=function(e){a.setState({displayName:e.target.value})},a.updateDescription=function(e){a.setState({description:e.target.value})},a.updateTrigger=function(e){a.setState({trigger:e.target.value})},a.updateUrl=function(e){a.setState({url:e.target.value})},a.updateMethod=function(e){a.setState({method:e.target.value})},a.updateUsername=function(e){a.setState({username:e.target.value})},a.updateIconUrl=function(e){a.setState({iconUrl:e.target.value})},a.updateAutocomplete=function(e){a.setState({autocomplete:e.target.checked})},a.updateAutocompleteHint=function(e){a.setState({autocompleteHint:e.target.value})},a.updateAutocompleteDescription=function(e){a.setState({autocompleteDescription:e.target.value})},a.state=a.getStateFromCommand(a.props.initialCommand||{}),a}return(0,f.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e=null,t=null;return this.state.autocomplete&&(e=g.default.createElement("div",{className:"form-group"},g.default.createElement("label",{className:"control-label col-sm-4",htmlFor:"autocompleteHint"},g.default.createElement(v.FormattedMessage,{id:"add_command.autocompleteHint",defaultMessage:"Autocomplete Hint"})),g.default.createElement("div",{className:"col-md-5 col-sm-8"},g.default.createElement("input",{id:"autocompleteHint",type:"text",maxLength:"1024",className:"form-control",value:this.state.autocompleteHint,onChange:this.updateAutocompleteHint,placeholder:N.localizeMessage("add_command.autocompleteHint.placeholder","Example: [Patient Name]")}),g.default.createElement("div",{className:"form__help"},g.default.createElement(v.FormattedMessage,{id:"add_command.autocompleteHint.help",defaultMessage:"(Optional) Arguments associated with your slash command, displayed as help in the autocomplete list."})))),t=g.default.createElement("div",{className:"form-group"},g.default.createElement("label",{className:"control-label col-sm-4",htmlFor:"autocompleteDescription"},g.default.createElement(v.FormattedMessage,{id:"add_command.autocompleteDescription",defaultMessage:"Autocomplete Description"})),g.default.createElement("div",{className:"col-md-5 col-sm-8"},g.default.createElement("input",{id:"description",type:"text",maxLength:"128",className:"form-control",value:this.state.autocompleteDescription,onChange:this.updateAutocompleteDescription,placeholder:N.localizeMessage("add_command.autocompleteDescription.placeholder",'Example: "Returns search results for patient records"')}),g.default.createElement("div",{className:"form__help"},g.default.createElement(v.FormattedMessage,{id:"add_command.autocompleteDescription.help",defaultMessage:"(Optional) Short description of slash command for the autocomplete list."}))))),g.default.createElement("div",{className:"backstage-content row"},g.default.createElement(k.default,null,g.default.createElement(E.Link,{to:"/"+this.props.team.name+"/integrations/commands"},g.default.createElement(v.FormattedMessage,{id:"installed_command.header",defaultMessage:"Slash Commands"})),g.default.createElement(v.FormattedMessage,{id:this.props.header.id,defaultMessage:this.props.header.defaultMessage})),g.default.createElement("div",{className:"backstage-form"},g.default.createElement("form",{className:"form-horizontal",onSubmit:this.handleSubmit},g.default.createElement("div",{className:"form-group"},g.default.createElement("label",{className:"control-label col-sm-4",htmlFor:"displayName"},g.default.createElement(v.FormattedMessage,{id:"add_command.displayName",defaultMessage:"Title"})),g.default.createElement("div",{className:"col-md-5 col-sm-8"},g.default.createElement("input",{id:"displayName",type:"text",maxLength:"64",className:"form-control",value:this.state.displayName,onChange:this.updateDisplayName}),g.default.createElement("div",{className:"form__help"},g.default.createElement(v.FormattedMessage,{id:"add_command.displayName.help",defaultMessage:"Choose a title to be displayed on the slash command settings page. Maximum 64 characters."})))),g.default.createElement("div",{className:"form-group"},g.default.createElement("label",{className:"control-label col-sm-4",htmlFor:"description"},g.default.createElement(v.FormattedMessage,{id:"add_command.description",defaultMessage:"Description"})),g.default.createElement("div",{className:"col-md-5 col-sm-8"},g.default.createElement("input",{id:"description",type:"text",maxLength:"128",className:"form-control",value:this.state.description,onChange:this.updateDescription}),g.default.createElement("div",{className:"form__help"},g.default.createElement(v.FormattedMessage,{id:"add_command.description.help",defaultMessage:"Description for your incoming webhook."})))),g.default.createElement("div",{className:"form-group"},g.default.createElement("label",{className:"control-label col-sm-4",htmlFor:"trigger"},g.default.createElement(v.FormattedMessage,{id:"add_command.trigger",defaultMessage:"Command Trigger Word"})),g.default.createElement("div",{className:"col-md-5 col-sm-8"},g.default.createElement("input",{id:"trigger",type:"text",maxLength:y.default.MAX_TRIGGER_LENGTH,className:"form-control",value:this.state.trigger,onChange:this.updateTrigger,placeholder:N.localizeMessage("add_command.trigger.placeholder",'Command trigger e.g. "hello" not including the slash')}),g.default.createElement("div",{className:"form__help"},g.default.createElement(v.FormattedMessage,{id:"add_command.trigger.help",defaultMessage:"Trigger word must be unique, and cannot begin with a slash or contain any spaces."})),g.default.createElement("div",{className:"form__help"},g.default.createElement(v.FormattedMessage,{id:"add_command.trigger.helpExamples",defaultMessage:"Examples: client, employee, patient, weather"})),g.default.createElement("div",{className:"form__help"},g.default.createElement(v.FormattedMessage,{id:"add_command.trigger.helpReserved",defaultMessage:"Reserved: {link}",values:{link:g.default.createElement("a",{href:"https://docs.mattermost.com/help/messaging/executing-commands.html#built-in-commands",target:"_blank",rel:"noopener noreferrer"},g.default.createElement(v.FormattedMessage,{id:"add_command.trigger.helpReservedLinkText",defaultMessage:"see list of built-in slash commands"}))}})))),g.default.createElement("div",{className:"form-group"},g.default.createElement("label",{className:"control-label col-sm-4",htmlFor:"url"},g.default.createElement(v.FormattedMessage,{id:"add_command.url",defaultMessage:"Request URL"})),g.default.createElement("div",{className:"col-md-5 col-sm-8"},g.default.createElement("input",{id:"url",type:"text",maxLength:"1024",className:"form-control",value:this.state.url,onChange:this.updateUrl,placeholder:N.localizeMessage("add_command.url.placeholder","Must start with http:// or https://")}),g.default.createElement("div",{className:"form__help"},g.default.createElement(v.FormattedMessage,{id:"add_command.url.help",defaultMessage:"The callback URL to receive the HTTP POST or GET event request when the slash command is run."})))),g.default.createElement("div",{className:"form-group"},g.default.createElement("label",{className:"control-label col-sm-4",htmlFor:"method"},g.default.createElement(v.FormattedMessage,{id:"add_command.method",defaultMessage:"Request Method"})),g.default.createElement("div",{className:"col-md-5 col-sm-8"},g.default.createElement("select",{id:"method",className:"form-control",value:this.state.method,onChange:this.updateMethod},g.default.createElement("option",{value:S},N.localizeMessage("add_command.method.post","POST")),g.default.createElement("option",{value:"G"},N.localizeMessage("add_command.method.get","GET"))),g.default.createElement("div",{className:"form__help"},g.default.createElement(v.FormattedMessage,{id:"add_command.method.help",defaultMessage:"The type of command request issued to the Request URL."})))),g.default.createElement("div",{className:"form-group"},g.default.createElement("label",{className:"control-label col-sm-4",htmlFor:"username"},g.default.createElement(v.FormattedMessage,{id:"add_command.username",defaultMessage:"Response Username"})),g.default.createElement("div",{className:"col-md-5 col-sm-8"},g.default.createElement("input",{id:"username",type:"text",maxLength:"64",className:"form-control",value:this.state.username,onChange:this.updateUsername,placeholder:N.localizeMessage("add_command.username.placeholder","Username")}),g.default.createElement("div",{className:"form__help"},g.default.createElement(v.FormattedMessage,{id:"add_command.username.help",defaultMessage:'(Optional) Choose a username override for responses for this slash command. Usernames can consist of up to 22 characters consisting of lowercase letters, numbers and they symbols "-", "_", and "." .'})))),g.default.createElement("div",{className:"form-group"},g.default.createElement("label",{className:"control-label col-sm-4",htmlFor:"iconUrl"},g.default.createElement(v.FormattedMessage,{id:"add_command.iconUrl",defaultMessage:"Response Icon"})),g.default.createElement("div",{className:"col-md-5 col-sm-8"},g.default.createElement("input",{id:"iconUrl",type:"text",maxLength:"1024",className:"form-control",value:this.state.iconUrl,onChange:this.updateIconUrl,placeholder:N.localizeMessage("add_command.iconUrl.placeholder","https://www.example.com/myicon.png")}),g.default.createElement("div",{className:"form__help"},g.default.createElement(v.FormattedMessage,{id:"add_command.iconUrl.help",defaultMessage:"(Optional) Choose a profile picture override for the post responses to this slash command. Enter the URL of a .png or .jpg file at least 128 pixels by 128 pixels."})))),g.default.createElement("div",{className:"form-group"},g.default.createElement("label",{className:"control-label col-sm-4",htmlFor:"autocomplete"},g.default.createElement(v.FormattedMessage,{id:"add_command.autocomplete",defaultMessage:"Autocomplete"})),g.default.createElement("div",{className:"col-md-5 col-sm-8 checkbox"},g.default.createElement("input",{id:"autocomplete",type:"checkbox",checked:this.state.autocomplete,onChange:this.updateAutocomplete}),g.default.createElement("div",{className:"form__help"},g.default.createElement(v.FormattedMessage,{id:"add_command.autocomplete.help",defaultMessage:"(Optional) Show slash command in autocomplete list."})))),e,t,g.default.createElement("div",{className:"backstage-form__footer"},g.default.createElement(A.default,{type:"backstage",errors:[this.props.serverError,this.state.clientError]}),g.default.createElement(E.Link,{className:"btn btn-sm",to:"/"+this.props.team.name+"/integrations/commands"},g.default.createElement(v.FormattedMessage,{id:"add_command.cancel",defaultMessage:"Cancel"})),g.default.createElement(j.default,{className:"btn btn-primary",type:"submit",spinning:this.state.saving,onClick:this.handleSubmit},g.default.createElement(v.FormattedMessage,{id:this.props.footer.id,defaultMessage:this.props.footer.defaultMessage})),this.props.renderExtra))))}}]),t}(g.default.PureComponent);F.propTypes={team:_.default.object.isRequired,header:_.default.object.isRequired,footer:_.default.object.isRequired,renderExtra:_.default.node.isRequired,serverError:_.default.string.isRequired,initialCommand:_.default.object,action:_.default.func.isRequired},t.default=F},1234:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return(0,s.default)({},t,{commands:(0,i.getCommands)(e)})}Object.defineProperty(t,"__esModule",{value:!0});var o=a(44),s=n(o),l=a(243),i=a(851),d=a(2273),u=n(d);t.default=(0,l.connect)(r)(u.default)},2227:function(e,t,a){"use strict";function n(e){var t=(0,s.getCurrentUser)(e),a=(0,l.getCurrentTeam)(e),n=(0,l.getCurrentTeamMembership)(e),r=!1;return t&&(r=(0,i.isSystemAdmin)(t.roles)),n&&(r=r||(0,i.isAdmin)(n.roles)),{user:t,team:a,isAdmin:r}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(243),o=a(244),s=a(714),l=a(730),i=a(698),d=a(2228),u=function(e){return e&&e.__esModule?e:{default:e}}(d);t.default=(0,o.withRouter)((0,r.connect)(n)(u.default))},2228:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(239),o=n(r),s=a(238),l=n(s),i=a(242),d=n(i),u=a(240),c=n(u),m=a(241),f=n(m),p=a(44),g=n(p),h=a(749),_=n(h),v=a(13),E=n(v),b=a(21),k=n(b),M=a(244),y=a(818),w=n(y),N=a(819),C=n(N),A=a(2229),O=n(A),j=a(2235),S=n(j),F=a(2242),R=n(F),T=a(2243),x=n(T),P=a(2246),I=n(P),q=a(2248),H=n(q),L=a(2250),D=n(L),U=a(2253),W=n(U),z=a(2255),G=n(z),B=a(2257),Y=n(B),K=a(2260),V=n(K),X=a(2262),J=n(X),Z=a(2264),Q=n(Z),$=a(1234),ee=n($),te=a(2275),ae=n(te),ne=a(2278),re=n(ne),oe=function(e){var t=e.component,a=e.extraProps,n=(0,_.default)(e,["component","extraProps"]);return E.default.createElement(M.Route,(0,g.default)({},n,{render:function(e){return E.default.createElement(t,(0,g.default)({},a,e))}}))},se=function(e){function t(){var e,a,n,r;(0,l.default)(this,t);for(var s=arguments.length,i=Array(s),d=0;d<s;d++)i[d]=arguments[d];return a=n=(0,c.default)(this,(e=t.__proto__||(0,o.default)(t)).call.apply(e,[this].concat(i))),n.scrollToTop=function(){n.listRef&&(n.listRef.scrollTop=0)},n.setListRef=function(e){n.listRef=e},r=a,(0,c.default)(n,r)}return(0,f.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){if(null==this.props.team||null==this.props.user)return E.default.createElement("div",null);var e={team:this.props.team,user:this.props.user,isAdmin:this.props.isAdmin,scrollToTop:this.scrollToTop};return E.default.createElement("div",{className:"backstage"},E.default.createElement(C.default,null),E.default.createElement(re.default,{team:this.props.team}),E.default.createElement(w.default,{pluggableName:"Root"}),E.default.createElement("div",{className:"backstage-body",ref:this.setListRef},E.default.createElement(ae.default,{team:this.props.team,user:this.props.user}),E.default.createElement(M.Switch,null,E.default.createElement(oe,{extraProps:e,exact:!0,path:"/:team/integrations",component:O.default}),E.default.createElement(oe,{extraProps:e,exact:!0,path:this.props.match.url+"/incoming_webhooks",component:x.default}),E.default.createElement(oe,{extraProps:e,path:this.props.match.url+"/incoming_webhooks/add",component:I.default}),E.default.createElement(oe,{extraProps:e,path:this.props.match.url+"/incoming_webhooks/edit",component:H.default}),E.default.createElement(oe,{extraProps:e,exact:!0,path:this.props.match.url+"/outgoing_webhooks",component:D.default}),E.default.createElement(oe,{extraProps:e,path:this.props.match.url+"/outgoing_webhooks/add",component:W.default}),E.default.createElement(oe,{extraProps:e,path:this.props.match.url+"/outgoing_webhooks/edit",component:G.default}),E.default.createElement(oe,{extraProps:e,path:this.props.match.url+"/commands",component:Q.default}),E.default.createElement(oe,{extraProps:e,exact:!0,path:this.props.match.url+"/oauth2-apps",component:Y.default}),E.default.createElement(oe,{extraProps:e,path:this.props.match.url+"/oauth2-apps/add",component:V.default}),E.default.createElement(oe,{extraProps:e,path:this.props.match.url+"/oauth2-apps/edit",component:J.default}),E.default.createElement(oe,{extraProps:e,path:this.props.match.url+"/confirm",component:ee.default}),E.default.createElement(oe,{extraProps:e,exact:!0,path:"/:team/emoji",component:S.default}),E.default.createElement(oe,{extraProps:e,path:this.props.match.url+"/add",component:R.default}))))}}]),t}(E.default.Component);se.propTypes={user:k.default.object,team:k.default.object,isAdmin:k.default.bool},t.default=se},2229:function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(239),o=n(r),s=a(238),l=n(s),i=a(240),d=n(i),u=a(242),c=n(u),m=a(241),f=n(m),p=a(21),g=n(p),h=a(13),_=n(h),v=a(697),E=a(698),b=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(E),k=a(2230),M=n(k),y=a(2231),w=n(y),N=a(2232),C=n(N),A=a(2233),O=n(A),j=a(2234),S=n(j),F=function(t){function a(e){(0,l.default)(this,a);var t=(0,d.default)(this,(a.__proto__||(0,o.default)(a)).call(this,e));return t.updateTitle=t.updateTitle.bind(t),t}return(0,f.default)(a,t),(0,c.default)(a,null,[{key:"propTypes",get:function(){return{team:g.default.object,user:g.default.object}}}]),(0,c.default)(a,[{key:"componentDidMount",value:function(){this.updateTitle()}},{key:"updateTitle",value:function(){var t="";null!=e.window.mm_config.SiteName&&(t=e.window.mm_config.SiteName),document.title=b.localizeMessage("admin.sidebar.integrations","Integrations")+" - "+this.props.team.display_name+" "+t}},{key:"render",value:function(){var e=[],t=window.mm_config,a=b.isSystemAdmin(this.props.user.roles);return"true"===t.EnableIncomingWebhooks&&e.push(_.default.createElement(S.default,{key:"incomingWebhook",image:M.default,title:_.default.createElement(v.FormattedMessage,{id:"integrations.incomingWebhook.title",defaultMessage:"Incoming Webhook"}),description:_.default.createElement(v.FormattedMessage,{id:"integrations.incomingWebhook.description",defaultMessage:"Incoming webhooks allow external integrations to send messages"}),link:"/"+this.props.team.name+"/integrations/incoming_webhooks"})),"true"===t.EnableOutgoingWebhooks&&e.push(_.default.createElement(S.default,{key:"outgoingWebhook",image:C.default,title:_.default.createElement(v.FormattedMessage,{id:"integrations.outgoingWebhook.title",defaultMessage:"Outgoing Webhook"}),description:_.default.createElement(v.FormattedMessage,{id:"integrations.outgoingWebhook.description",defaultMessage:"Outgoing webhooks allow external integrations to receive and respond to messages"}),link:"/"+this.props.team.name+"/integrations/outgoing_webhooks"})),"true"===t.EnableCommands&&e.push(_.default.createElement(S.default,{key:"command",image:O.default,title:_.default.createElement(v.FormattedMessage,{id:"integrations.command.title",defaultMessage:"Slash Command"}),description:_.default.createElement(v.FormattedMessage,{id:"integrations.command.description",defaultMessage:"Slash commands send events to an external integration"}),link:"/"+this.props.team.name+"/integrations/commands"})),"true"!==t.EnableOAuthServiceProvider||!a&&"true"===t.EnableOnlyAdminIntegrations||e.push(_.default.createElement(S.default,{key:"oauth2Apps",image:w.default,title:_.default.createElement(v.FormattedMessage,{id:"integrations.oauthApps.title",defaultMessage:"OAuth 2.0 Applications"}),description:_.default.createElement(v.FormattedMessage,{id:"integrations.oauthApps.description",defaultMessage:"Auth 2.0 allows external applications to make authorized requests to the Mattermost API."}),link:"/"+this.props.team.name+"/integrations/oauth2-apps"})),_.default.createElement("div",{className:"backstage-content row"},_.default.createElement("div",{className:"backstage-header"},_.default.createElement("h1",null,_.default.createElement(v.FormattedMessage,{id:"integrations.header",defaultMessage:"Integrations"}))),_.default.createElement("div",{className:"backstage-list__help"},_.default.createElement(v.FormattedMessage,{id:"integrations.help",defaultMessage:"Visit the {appDirectory} to find self-hosted, third-party apps and integrations for Mattermost.",values:{appDirectory:_.default.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://about.mattermost.com/default-app-directory/"},_.default.createElement(v.FormattedMessage,{id:"integrations.help.appDirectory",defaultMessage:"App Directory"}))}})),_.default.createElement("div",null,e))}}]),a}(_.default.Component);t.default=F}).call(t,a(22))},2230:function(e,t,a){e.exports=a.p+"files/fd69f7891f867c2aa14011da92b728ac.jpg"},2231:function(e,t,a){e.exports=a.p+"files/ce81936d829c1ac530749ba2fe913de0.png"},2232:function(e,t,a){e.exports=a.p+"files/2aa264fb1956b8be41f2047d428a1a1e.jpg"},2233:function(e,t,a){e.exports=a.p+"files/d184fcdb23c1e24bfd7132950ceb4f68.jpg"},2234:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(239),o=n(r),s=a(238),l=n(s),i=a(242),d=n(i),u=a(240),c=n(u),m=a(241),f=n(m),p=a(21),g=n(p),h=a(13),_=n(h),v=a(244),E=function(e){function t(){return(0,l.default)(this,t),(0,c.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e=this.props,t=e.image,a=e.title,n=e.description,r=e.link;return _.default.createElement(v.Link,{to:r,className:"integration-option"},_.default.createElement("img",{className:"integration-option__image",src:t}),_.default.createElement("div",{className:"integration-option__title"},a),_.default.createElement("div",{className:"integration-option__description"},n))}}],[{key:"propTypes",get:function(){return{image:g.default.string.isRequired,title:g.default.node.isRequired,description:g.default.node.isRequired,link:g.default.string.isRequired}}}]),t}(_.default.Component);t.default=E},2235:function(e,t,a){"use strict";function n(e){var t=(0,o.getCurrentTeam)(e)||{};return{teamName:t.name,teamDisplayName:t.display_name,siteName:e.entities.general.config.SiteName}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(243),o=a(730),s=a(2236),l=function(e){return e&&e.__esModule?e:{default:e}}(s);t.default=(0,r.connect)(n)(l.default)},2236:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(239),o=n(r),s=a(238),l=n(s),i=a(242),d=n(i),u=a(240),c=n(u),m=a(241),f=n(m),p=a(13),g=n(p),h=a(21),_=n(h),v=a(697),E=a(244),b=a(698),k=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(b),M=a(2237),y=n(M),w=function(e){function t(){var e,a,n,r;(0,l.default)(this,t);for(var s=arguments.length,i=Array(s),d=0;d<s;d++)i[d]=arguments[d];return a=n=(0,c.default)(this,(e=t.__proto__||(0,o.default)(t)).call.apply(e,[this].concat(i))),n.updateTitle=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.props;document.title=k.localizeMessage("custom_emoji.header","Custom Emoji")+" - "+e.teamDisplayName+" "+e.siteName},r=a,(0,c.default)(n,r)}return(0,f.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){this.updateTitle()}},{key:"componentWillReceiveProps",value:function(e){this.props.siteName!==e.siteName&&this.updateTitle(e)}},{key:"render",value:function(){return g.default.createElement("div",{className:"backstage-content emoji-list"},g.default.createElement("div",{className:"backstage-header"},g.default.createElement("h1",null,g.default.createElement(v.FormattedMessage,{id:"emoji_list.header",defaultMessage:"Custom Emoji"})),g.default.createElement(E.Link,{className:"add-link",to:"/"+this.props.teamName+"/emoji/add"},g.default.createElement("button",{type:"button",className:"btn btn-primary"},g.default.createElement(v.FormattedMessage,{id:"emoji_list.add",defaultMessage:"Add Custom Emoji"}))),g.default.createElement(y.default,{scrollToTop:this.props.scrollToTop})))}}]),t}(g.default.Component);w.propTypes={teamName:_.default.string.isRequired,teamDisplayName:_.default.string.isRequired,siteName:_.default.string,scrollToTop:_.default.func.isRequired},w.defaultProps={teamName:"",teamDisplayName:"",siteName:""},t.default=w},2237:function(e,t,a){"use strict";function n(e){return{emojiIds:(0,l.getCustomEmojiIdsSortedByName)(e)||[]}}function r(e){return{actions:(0,s.bindActionCreators)({getCustomEmojis:i.getCustomEmojis,searchCustomEmojis:i.searchCustomEmojis},e)}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(243),s=a(1),l=a(813),i=a(793),d=a(2238),u=function(e){return e&&e.__esModule?e:{default:e}}(d);t.default=(0,o.connect)(n,r)(u.default)},2238:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(251),o=n(r),s=a(106),l=n(s),i=a(107),d=n(i),u=a(239),c=n(u),m=a(238),f=n(m),p=a(242),g=n(p),h=a(240),_=n(h),v=a(241),E=n(v),b=a(13),k=n(b),M=a(21),y=n(M),w=a(697),N=a(18),C=a(698),A=a(732),O=n(A),j=a(866),S=n(j),F=a(2239),R=n(F),T=50,x=200,P=function(e){function t(e){var a=this;(0,f.default)(this,t);var n=(0,_.default)(this,(t.__proto__||(0,c.default)(t)).call(this,e));return n.nextPage=function(e){e&&e.preventDefault();var t=n.state.page+1;n.setState({nextLoading:!0}),n.props.actions.getCustomEmojis(t,T,N.Emoji.SORT_BY_NAME,!0).then(function(e){var a=e.data;n.setState({page:t,nextLoading:!1}),a&&a.length<T&&n.setState({missingPages:!1}),n.props.scrollToTop()})},n.previousPage=function(e){e&&e.preventDefault(),n.setState({page:n.state.page-1,nextLoading:!1}),n.props.scrollToTop()},n.onSearchChange=function(e){if(e&&e.target){var t=e.target.value||"";clearTimeout(n.searchTimeout),n.searchTimeout=setTimeout((0,d.default)(l.default.mark(function e(){var r,o;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t.trim()){e.next=3;break}return n.setState({searchEmojis:null,page:0}),e.abrupt("return");case 3:return n.setState({loading:!0}),e.next=6,n.props.actions.searchCustomEmojis(t);case 6:r=e.sent,o=r.data,o?n.setState({searchEmojis:o.map(function(e){return e.id}),loading:!1}):n.setState({searchEmojis:[],loading:!1});case 9:case"end":return e.stop()}},e,a)})),x)}},n.deleteFromSearch=function(e){if(n.state.searchEmojis){var t=n.state.searchEmojis.indexOf(e);if(!(t<0)){var a=[].concat((0,o.default)(n.state.searchEmojis));a.splice(t,1),n.setState({searchEmojis:a})}}},n.searchTimeout=null,n.state={loading:!0,page:0,nextLoading:!1,searchEmojis:null,missingPages:!0},n}return(0,E.default)(t,e),(0,g.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.actions.getCustomEmojis(0,T+1,N.Emoji.SORT_BY_NAME,!0).then(function(t){var a=t.data;e.setState({loading:!1}),a&&a.length<T&&e.setState({missingPages:!1})})}},{key:"render",value:function(){var e=this,t=this.state.searchEmojis,a=[],n=void 0,r=void 0;if(this.state.loading)a.push(k.default.createElement("tr",{key:"loading",className:"backstage-list__item backstage-list__empty"},k.default.createElement("td",{colSpan:"4"},k.default.createElement(O.default,{key:"loading"}))));else if(0===this.props.emojiIds.length||t&&0===t.length)a.push(k.default.createElement("tr",{key:"empty",className:"backstage-list__item backstage-list__empty"},k.default.createElement("td",{colSpan:"4"},k.default.createElement(w.FormattedMessage,{id:"emoji_list.empty",defaultMessage:"No custom emoji found"}))));else if(t)t.forEach(function(t){a.push(k.default.createElement(R.default,{key:"emoji_search_item"+t,emojiId:t,onDelete:e.deleteFromSearch}))});else{var o=this.state.page*T,s=o+T,l=this.props.emojiIds.slice(o,s);if(l.forEach(function(e){a.push(k.default.createElement(R.default,{key:"emoji_list_item"+e,emojiId:e}))}),this.state.missingPages){var i=k.default.createElement("span",null,k.default.createElement(w.FormattedMessage,{id:"filtered_user_list.next",defaultMessage:"Next"}),k.default.createElement("i",{className:"fa fa-chevron-right margin-left"}));n=k.default.createElement(S.default,{btnClass:"btn-link",extraClasses:"pull-right",onClick:this.nextPage,saving:this.state.nextLoading,disabled:this.state.nextLoading,defaultMessage:i,savingMessage:i})}this.state.page>0&&(r=k.default.createElement("button",{className:"btn btn-link",onClick:this.previousPage},k.default.createElement("i",{className:"fa fa-chevron-left margin-right"}),k.default.createElement(w.FormattedMessage,{id:"filtered_user_list.prev",defaultMessage:"Previous"})))}return k.default.createElement("div",null,k.default.createElement("div",{className:"backstage-filters"},k.default.createElement("div",{className:"backstage-filter__search"},k.default.createElement("i",{className:"fa fa-search"}),k.default.createElement("input",{type:"search",className:"form-control",placeholder:(0,C.localizeMessage)("emoji_list.search","Search Custom Emoji"),onChange:this.onSearchChange,style:I.search}))),k.default.createElement("span",{className:"backstage-list__help"},k.default.createElement("p",null,k.default.createElement(w.FormattedMessage,{id:"emoji_list.help",defaultMessage:"Custom emoji are available to everyone on your server. Type ':' in a message box to bring up the emoji selection menu. Other users may need to refresh the page before new emojis appear."})),k.default.createElement("p",null,k.default.createElement(w.FormattedMessage,{id:"emoji_list.help2",defaultMessage:"Tip: If you add #, ##, or ### as the first character on a new line containing emoji, you can use larger sized emoji. To try it out, send a message such as: '# :smile:'."}))),k.default.createElement("div",{className:"backstage-list"},k.default.createElement("table",{className:"emoji-list__table"},k.default.createElement("thead",null,k.default.createElement("tr",{className:"backstage-list__item emoji-list__table-header"},k.default.createElement("th",{className:"emoji-list__name"},k.default.createElement(w.FormattedMessage,{id:"emoji_list.name",defaultMessage:"Name"})),k.default.createElement("th",{className:"emoji-list__image"},k.default.createElement(w.FormattedMessage,{id:"emoji_list.image",defaultMessage:"Image"})),k.default.createElement("th",{className:"emoji-list__creator"},k.default.createElement(w.FormattedMessage,{id:"emoji_list.creator",defaultMessage:"Creator"})),k.default.createElement("th",{className:"emoji-list_actions"},k.default.createElement(w.FormattedMessage,{id:"emoji_list.actions",defaultMessage:"Actions"})))),k.default.createElement("tbody",null,a))),k.default.createElement("div",{className:"filter-controls padding-top x2"},r,n))}}]),t}(k.default.Component);P.propTypes={emojiIds:y.default.arrayOf(y.default.string).isRequired,scrollToTop:y.default.func.isRequired,actions:y.default.shape({getCustomEmojis:y.default.func.isRequired,searchCustomEmojis:y.default.func.isRequired}).isRequired},t.default=P;var I={search:{flexGrow:0,flexShrink:0}}},2239:function(e,t,a){"use strict";function n(e,t){var a=e.entities.emojis.customEmoji[t.emojiId],n=(0,l.getUser)(e,a.creator_id)||{};return{emoji:a,creatorDisplayName:(0,d.displayUsernameForUser)(n),creatorUsername:n.username,currentUserId:(0,l.getCurrentUserId)(e),isSystemAdmin:(0,l.isCurrentUserSystemAdmin)(e)}}function r(e){return{actions:(0,s.bindActionCreators)({deleteCustomEmoji:i.deleteCustomEmoji},e)}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(243),s=a(1),l=a(714),i=a(793),d=a(698),u=a(2240),c=function(e){return e&&e.__esModule?e:{default:e}}(u);t.default=(0,o.connect)(n,r)(c.default)},2240:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(239),o=n(r),s=a(238),l=n(s),i=a(242),d=n(i),u=a(240),c=n(u),m=a(241),f=n(m),p=a(13),g=n(p),h=a(21),_=n(h),v=a(245),E=a(2241),b=n(E),k=function(e){function t(){var e,a,n,r;(0,l.default)(this,t);for(var s=arguments.length,i=Array(s),d=0;d<s;d++)i[d]=arguments[d];return a=n=(0,c.default)(this,(e=t.__proto__||(0,o.default)(t)).call.apply(e,[this].concat(i))),n.handleDelete=function(){n.props.onDelete&&n.props.onDelete(n.props.emoji.id),n.props.actions.deleteCustomEmoji(n.props.emoji.id)},r=a,(0,c.default)(n,r)}return(0,f.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e=this.props.emoji,t=this.props.creatorUsername,a=this.props.creatorDisplayName;t&&t!==a&&(a+=" (@"+t+")");var n=null;return(this.props.isSystemAdmin||e.creator_id===this.props.currentUserId)&&(n=g.default.createElement(b.default,{onDelete:this.handleDelete})),g.default.createElement("tr",{className:"backstage-list__item"},g.default.createElement("td",{className:"emoji-list__name"},":"+e.name+":"),g.default.createElement("td",{className:"emoji-list__image"},g.default.createElement("span",{className:"emoticon",style:{backgroundImage:"url("+v.Client4.getCustomEmojiImageUrl(e.id)+")"}})),g.default.createElement("td",{className:"emoji-list__creator"},a),g.default.createElement("td",{className:"emoji-list-item_actions"},n))}}]),t}(g.default.Component);k.propTypes={emoji:_.default.object.isRequired,currentUserId:_.default.string.isRequired,creatorDisplayName:_.default.string.isRequired,creatorUsername:_.default.string,isSystemAdmin:_.default.bool,onDelete:_.default.func,actions:_.default.shape({deleteCustomEmoji:_.default.func.isRequired}).isRequired},k.defaultProps={emoji:{},currentUserId:"",creatorDisplayName:"",isSystemAdmin:!1},t.default=k},2241:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(239),o=n(r),s=a(238),l=n(s),i=a(242),d=n(i),u=a(240),c=n(u),m=a(241),f=n(m),p=a(21),g=n(p),h=a(13),_=n(h),v=a(697),E=a(1228),b=n(E),k=function(e){function t(){return(0,l.default)(this,t),(0,c.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,d.default)(t,[{key:"triggerTitle",get:function(){return _.default.createElement(v.FormattedMessage,{id:"emoji_list.delete",defaultMessage:"Delete"})}},{key:"modalTitle",get:function(){return _.default.createElement(v.FormattedMessage,{id:"emoji_list.delete.confirm.title",defaultMessage:"Delete Custom Emoji"})}},{key:"modalMessage",get:function(){return _.default.createElement("div",{className:"alert alert-warning"},_.default.createElement("i",{className:"fa fa-warning fa-margin--right"}),_.default.createElement(v.FormattedMessage,{id:"emoji_list.delete.confirm.msg",defaultMessage:"This action permanently deletes the custom emoji. Are you sure you want to delete it?"}))}},{key:"modalConfirmButton",get:function(){return _.default.createElement(v.FormattedMessage,{id:"emoji_list.delete.confirm.button",defaultMessage:"Delete"})}}]),t}(b.default);k.propTypes={onDelete:g.default.func.isRequired},t.default=k},2242:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(239),o=n(r),s=a(238),l=n(s),i=a(242),d=n(i),u=a(240),c=n(u),m=a(241),f=n(m),p=a(21),g=n(p),h=a(13),_=n(h),v=a(697),E=a(244),b=a(974),k=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(b),M=a(772),y=n(M),w=a(850),N=n(w),C=a(762),A=n(C),O=a(873),j=n(O),S=function(e){function t(e){(0,l.default)(this,t);var a=(0,c.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return a.handleSubmit=a.handleSubmit.bind(a),a.updateName=a.updateName.bind(a),a.updateImage=a.updateImage.bind(a),a.state={name:"",image:null,imageUrl:"",saving:!1,error:null},a}return(0,f.default)(t,e),(0,d.default)(t,[{key:"handleSubmit",value:function(e){var t=this;if(e.preventDefault(),!this.state.saving){this.setState({saving:!0,error:null});var a={creator_id:this.props.user.id,name:this.state.name.trim().toLowerCase()};return a.name.startsWith(":")&&a.name.endsWith(":")&&(a.name=a.name.substring(1,a.name.length-1)),a.name?/[^a-z0-9_-]/.test(a.name)?void this.setState({saving:!1,error:_.default.createElement(v.FormattedMessage,{id:"add_emoji.nameInvalid",defaultMessage:"An emoji's name can only contain lowercase letters, numbers, and the symbols '-' and '_'."})}):y.default.hasSystemEmoji(a.name)?void this.setState({saving:!1,error:_.default.createElement(v.FormattedMessage,{id:"add_emoji.nameTaken",defaultMessage:"This name is already in use by a system emoji. Please choose another name."})}):this.state.image?void k.addEmoji(a,this.state.image,function(){t.props.history.push("/"+t.props.team.name+"/emoji")},function(e){t.setState({saving:!1,error:e.message})}):void this.setState({saving:!1,error:_.default.createElement(v.FormattedMessage,{id:"add_emoji.imageRequired",defaultMessage:"An image is required for the emoji"})}):void this.setState({saving:!1,error:_.default.createElement(v.FormattedMessage,{id:"add_emoji.nameRequired",defaultMessage:"A name is required for the emoji"})})}}},{key:"updateName",value:function(e){this.setState({name:e.target.value})}},{key:"updateImage",value:function(e){var t=this;if(0===e.target.files.length)return void this.setState({image:null,imageUrl:""});var a=e.target.files[0],n=new FileReader;n.onload=function(){t.setState({image:a,imageUrl:n.result})},n.readAsDataURL(a)}},{key:"render",value:function(){var e=null;this.state.image&&(e=_.default.createElement("span",{className:"add-emoji__filename"},this.state.image.name));var t=null;return this.state.imageUrl&&(t=_.default.createElement("div",{className:"form-group"},_.default.createElement("label",{className:"control-label col-sm-4",htmlFor:"preview"},_.default.createElement(v.FormattedMessage,{id:"add_emoji.preview",defaultMessage:"Preview"})),_.default.createElement("div",{className:"col-md-5 col-sm-8 add-emoji__preview"},_.default.createElement(v.FormattedMessage,{id:"add_emoji.preview.sentence",defaultMessage:"This is a sentence with {image} in it.",values:{image:_.default.createElement("span",{className:"emoticon",style:{backgroundImage:"url("+this.state.imageUrl+")"}})}})))),_.default.createElement("div",{className:"backstage-content row"},_.default.createElement(N.default,null,_.default.createElement(E.Link,{to:"/"+this.props.team.name+"/emoji"},_.default.createElement(v.FormattedMessage,{id:"emoji_list.header",defaultMessage:"Custom Emoji"})),_.default.createElement(v.FormattedMessage,{id:"add_emoji.header",defaultMessage:"Add"})),_.default.createElement("div",{className:"backstage-form"},_.default.createElement("form",{className:"form-horizontal",onSubmit:this.handleSubmit},_.default.createElement("div",{className:"form-group"},_.default.createElement("label",{className:"control-label col-sm-4",htmlFor:"name"},_.default.createElement(v.FormattedMessage,{id:"add_emoji.name",defaultMessage:"Name"})),_.default.createElement("div",{className:"col-md-5 col-sm-8"},_.default.createElement("input",{id:"name",type:"text",maxLength:"64",className:"form-control",value:this.state.name,onChange:this.updateName}),_.default.createElement("div",{className:"form__help"},_.default.createElement(v.FormattedMessage,{id:"add_emoji.name.help",defaultMessage:"Choose a name for your emoji made of up to 64 characters consisting of lowercase letters, numbers, and the symbols '-' and '_'."})))),_.default.createElement("div",{className:"form-group"},_.default.createElement("label",{className:"control-label col-sm-4",htmlFor:"image"},_.default.createElement(v.FormattedMessage,{id:"add_emoji.image",defaultMessage:"Image"})),_.default.createElement("div",{className:"col-md-5 col-sm-8"},_.default.createElement("div",null,_.default.createElement("div",{className:"add-emoji__upload"},_.default.createElement("button",{className:"btn btn-primary"},_.default.createElement(v.FormattedMessage,{id:"add_emoji.image.button",defaultMessage:"Select"})),_.default.createElement("input",{type:"file",accept:".jpg,.png,.gif",multiple:!1,onChange:this.updateImage})),e,_.default.createElement("div",{className:"form__help"},_.default.createElement(v.FormattedMessage,{id:"add_emoji.image.help",defaultMessage:"Choose the image for your emoji. The image can be a gif, png, or jpeg file with a max size of 64 KB and dimensions up to 128 by 128 pixels."}))))),t,_.default.createElement("div",{className:"backstage-form__footer"},_.default.createElement(A.default,{type:"backstage",error:this.state.error}),_.default.createElement(E.Link,{className:"btn btn-sm",to:"/"+this.props.team.name+"/emoji"},_.default.createElement(v.FormattedMessage,{id:"add_emoji.cancel",defaultMessage:"Cancel"})),_.default.createElement(j.default,{className:"btn btn-primary",type:"submit",spinning:this.state.saving,onClick:this.handleSubmit},_.default.createElement(v.FormattedMessage,{id:"add_emoji.save",defaultMessage:"Save"}))))))}}]),t}(_.default.Component);S.propTypes={team:g.default.object,user:g.default.object},S.contextTypes={router:g.default.object.isRequired},t.default=S},2243:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a=(0,h.getCurrentTeamId)(e),n=(0,g.getIncomingHooks)(e),r=(0,d.default)(n).map(function(e){return n[e]}).filter(function(e){return e.team_id===a});return(0,l.default)({},t,{incomingWebhooks:r,channels:(0,p.getAllChannels)(e),users:(0,_.getUsers)(e),teamId:a})}function o(e){return{actions:(0,c.bindActionCreators)({getIncomingHooks:f.getIncomingHooks,removeIncomingHook:f.removeIncomingHook},e)}}Object.defineProperty(t,"__esModule",{value:!0});var s=a(44),l=n(s),i=a(108),d=n(i),u=a(243),c=a(1),m=a(760),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(m),p=a(735),g=a(851),h=a(730),_=a(714),v=a(2244),E=n(v);t.default=(0,u.connect)(r,o)(E.default)},2244:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(239),o=n(r),s=a(238),l=n(s),i=a(242),d=n(i),u=a(240),c=n(u),m=a(241),f=n(m),p=a(21),g=n(p),h=a(13),_=n(h),v=a(697),E=a(43),b=n(E),k=a(698),M=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(k),y=a(923),w=n(y),N=a(2245),C=n(N),A=function(e){function t(e){(0,l.default)(this,t);var a=(0,c.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return a.deleteIncomingWebhook=function(e){a.props.actions.removeIncomingHook(e.id)},a.deleteIncomingWebhook=a.deleteIncomingWebhook.bind(a),a.incomingWebhookCompare=a.incomingWebhookCompare.bind(a),a.state={loading:!0},a}return(0,f.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){var e=this;"true"===window.mm_config.EnableIncomingWebhooks&&this.props.actions.getIncomingHooks(this.props.teamId,b.default.Integrations.START_PAGE_NUM,b.default.Integrations.PAGE_SIZE).then(function(){return e.setState({loading:!1})})}},{key:"incomingWebhookCompare",value:function(e,t){var a=e.display_name;if(!a){var n=this.props.channels[e.channel_id];a=n?n.display_name:M.localizeMessage("installed_incoming_webhooks.unknown_channel","A Private Webhook")}var r=t.display_name;return a.localeCompare(r)}},{key:"render",value:function(){var e=this,t=this.props.incomingWebhooks.sort(this.incomingWebhookCompare).map(function(t){var a=e.props.isAdmin||e.props.user.id===t.user_id,n=e.props.channels[t.channel_id];return _.default.createElement(C.default,{key:t.id,incomingWebhook:t,onDelete:e.deleteIncomingWebhook,creator:e.props.users[t.user_id]||{},canChange:a,team:e.props.team,channel:n})});return _.default.createElement(w.default,{header:_.default.createElement(v.FormattedMessage,{id:"installed_incoming_webhooks.header",defaultMessage:"Installed Incoming Webhooks"}),addText:_.default.createElement(v.FormattedMessage,{id:"installed_incoming_webhooks.add",defaultMessage:"Add Incoming Webhook"}),addLink:"/"+this.props.team.name+"/integrations/incoming_webhooks/add",emptyText:_.default.createElement(v.FormattedMessage,{id:"installed_incoming_webhooks.empty",defaultMessage:"No incoming webhooks found"}),helpText:_.default.createElement(v.FormattedMessage,{id:"installed_incoming_webhooks.help",defaultMessage:"Use incoming webhooks to connect external tools to Mattermost. {buildYourOwn} or visit the {appDirectory} to find self-hosted, third-party apps and integrations.",values:{buildYourOwn:_.default.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"http://docs.mattermost.com/developer/webhooks-incoming.html"},_.default.createElement(v.FormattedMessage,{id:"installed_incoming_webhooks.help.buildYourOwn",defaultMessage:"Build your own"})),appDirectory:_.default.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://about.mattermost.com/default-app-directory/"},_.default.createElement(v.FormattedMessage,{id:"installed_incoming_webhooks.help.appDirectory",defaultMessage:"App Directory"}))}}),searchPlaceholder:M.localizeMessage("installed_incoming_webhooks.search","Search Incoming Webhooks"),loading:this.state.loading},t)}}]),t}(_.default.PureComponent);A.propTypes={team:g.default.object,user:g.default.object,isAdmin:g.default.bool,incomingWebhooks:g.default.array,channels:g.default.object,users:g.default.object,teamId:g.default.string,actions:g.default.shape({removeIncomingHook:g.default.func,getIncomingHooks:g.default.func})},t.default=A},2245:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(239),o=n(r),s=a(238),l=n(s),i=a(242),d=n(i),u=a(240),c=n(u),m=a(241),f=n(m),p=a(21),g=n(p),h=a(13),_=n(h),v=a(697),E=a(244),b=a(731),k=a(924),M=n(k),y=function(e){function t(e){(0,l.default)(this,t);var a=(0,c.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return a.handleDelete=a.handleDelete.bind(a),a}return(0,f.default)(t,e),(0,d.default)(t,[{key:"handleDelete",value:function(){this.props.onDelete(this.props.incomingWebhook)}},{key:"render",value:function(){var e=this.props.incomingWebhook,a=this.props.channel,n=this.props.filter?this.props.filter.toLowerCase():"";if(!t.matchesFilter(e,a,n))return null;var r=void 0;r=e.display_name?e.display_name:a?a.display_name:_.default.createElement(v.FormattedMessage,{id:"installed_incoming_webhooks.unknown_channel",defaultMessage:"A Private Webhook"});var o=null;e.description&&(o=_.default.createElement("div",{className:"item-details__row"},_.default.createElement("span",{className:"item-details__description"},e.description)));var s=null;return this.props.canChange&&(s=_.default.createElement("div",{className:"item-actions"},_.default.createElement(E.Link,{to:"/"+this.props.team.name+"/integrations/incoming_webhooks/edit?id="+e.id},_.default.createElement(v.FormattedMessage,{id:"installed_integrations.edit",defaultMessage:"Edit"}))," - ",_.default.createElement(M.default,{messageId:"installed_incoming_webhooks.delete.confirm",onDelete:this.handleDelete}))),_.default.createElement("div",{className:"backstage-list__item"},_.default.createElement("div",{className:"item-details"},_.default.createElement("div",{className:"item-details__row"},_.default.createElement("span",{className:"item-details__name"},r)),o,_.default.createElement("div",{className:"item-details__row"},_.default.createElement("span",{className:"item-details__url"},_.default.createElement(v.FormattedMessage,{id:"installed_integrations.url",defaultMessage:"URL: {url}",values:{url:(0,b.getSiteURL)()+"/hooks/"+e.id}}))),_.default.createElement("div",{className:"item-details__row"},_.default.createElement("span",{className:"item-details__creation"},_.default.createElement(v.FormattedMessage,{id:"installed_integrations.creation",defaultMessage:"Created by {creator} on {createAt, date, full}",values:{creator:this.props.creator.username,createAt:e.create_at}})))),s)}}],[{key:"matchesFilter",value:function(e,t,a){return!a||(-1!==e.display_name.toLowerCase().indexOf(a)||-1!==e.description.toLowerCase().indexOf(a)||!(!e.channel_id||!t||-1===t.name.toLowerCase().indexOf(a)))}}]),t}(_.default.PureComponent);y.propTypes={incomingWebhook:g.default.object.isRequired,onDelete:g.default.func.isRequired,filter:g.default.string,creator:g.default.object.isRequired,canChange:g.default.bool.isRequired,team:g.default.object.isRequired,channel:g.default.object},t.default=y},2246:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a=e.entities.general.config,n="true"===a.EnablePostUsernameOverride,r="true"===a.EnablePostIconOverride;return(0,l.default)({},t,{createIncomingHookRequest:e.requests.integrations.createIncomingHook,enablePostUsernameOverride:n,enablePostIconOverride:r})}function o(e){return{actions:(0,d.bindActionCreators)({createIncomingHook:u.createIncomingHook},e)}}Object.defineProperty(t,"__esModule",{value:!0});var s=a(44),l=n(s),i=a(243),d=a(1),u=a(760),c=a(2247),m=n(c);t.default=(0,i.connect)(r,o)(m.default)},2247:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(106),o=n(r),s=a(107),l=n(s),i=a(239),d=n(i),u=a(238),c=n(u),m=a(242),f=n(m),p=a(240),g=n(p),h=a(241),_=n(h),v=a(21),E=n(v),b=a(13),k=n(b),M=a(248),y=a(1229),w=n(y),N={id:"integrations.add",defaultMessage:"Add"},C={id:"add_incoming_webhook.save",defaultMessage:"Save"},A=function(e){function t(e){var a=this;(0,c.default)(this,t);var n=(0,g.default)(this,(t.__proto__||(0,d.default)(t)).call(this,e));return n.addIncomingHook=function(){var e=(0,l.default)(o.default.mark(function e(t){var r,s;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({serverError:""}),e.next=3,n.props.actions.createIncomingHook(t);case 3:if(r=e.sent,!(s=r.data)){e.next=8;break}return M.browserHistory.push("/"+n.props.team.name+"/integrations/confirm?type=incoming_webhooks&id="+s.id),e.abrupt("return");case 8:n.props.createIncomingHookRequest.error&&n.setState({serverError:n.props.createIncomingHookRequest.error.message});case 9:case"end":return e.stop()}},e,a)}));return function(t){return e.apply(this,arguments)}}(),n.state={serverError:""},n}return(0,_.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){return k.default.createElement(w.default,{team:this.props.team,header:N,footer:C,enablePostUsernameOverride:this.props.enablePostUsernameOverride,enablePostIconOverride:this.props.enablePostIconOverride,action:this.addIncomingHook,serverError:this.state.serverError})}}]),t}(k.default.PureComponent);A.propTypes={team:E.default.object.isRequired,createIncomingHookRequest:E.default.object.isRequired,enablePostUsernameOverride:E.default.bool.isRequired,enablePostIconOverride:E.default.bool.isRequired,actions:E.default.shape({createIncomingHook:E.default.func.isRequired}).isRequired},t.default=A},2248:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a=e.entities.general.config,n="true"===a.EnableIncomingWebhooks,r="true"===a.EnablePostUsernameOverride,o="true"===a.EnablePostIconOverride,s=new URLSearchParams(t.location.search).get("id");return(0,l.default)({},t,{hookId:s,hook:e.entities.integrations.incomingHooks[s],updateIncomingHookRequest:e.requests.integrations.updateIncomingHook,enableIncomingWebhooks:n,enablePostUsernameOverride:r,enablePostIconOverride:o})}function o(e){return{actions:(0,d.bindActionCreators)({updateIncomingHook:u.updateIncomingHook,getIncomingHook:u.getIncomingHook},e)}}Object.defineProperty(t,"__esModule",{value:!0});var s=a(44),l=n(s),i=a(243),d=a(1),u=a(760),c=a(2249),m=n(c);t.default=(0,i.connect)(r,o)(m.default)},2249:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(106),o=n(r),s=a(107),l=n(s),i=a(239),d=n(i),u=a(238),c=n(u),m=a(242),f=n(m),p=a(240),g=n(p),h=a(241),_=n(h),v=a(21),E=n(v),b=a(13),k=n(b),M=a(248),y=a(1229),w=n(y),N=a(732),C=n(N),A={id:"integrations.edit",defaultMessage:"Edit"},O={id:"update_incoming_webhook.update",defaultMessage:"Update"},j=function(e){function t(e){var a=this;(0,c.default)(this,t);var n=(0,g.default)(this,(t.__proto__||(0,d.default)(t)).call(this,e));return n.editIncomingHook=function(){var e=(0,l.default)(o.default.mark(function e(t){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.newHook=t,n.props.hook.id&&(t.id=n.props.hook.id),n.props.hook.token&&(t.token=n.props.hook.token),e.next=5,n.submitHook();case 5:case"end":return e.stop()}},e,a)}));return function(t){return e.apply(this,arguments)}}(),n.submitHook=(0,l.default)(o.default.mark(function e(){var t,r;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({serverError:""}),e.next=3,n.props.actions.updateIncomingHook(n.newHook);case 3:if(t=e.sent,!(r=t.data)){e.next=8;break}return M.browserHistory.push("/"+n.props.team.name+"/integrations/incoming_webhooks"),e.abrupt("return");case 8:n.props.updateIncomingHookRequest.error&&n.setState({serverError:n.props.updateIncomingHookRequest.error.message});case 9:case"end":return e.stop()}},e,a)})),n.state={showConfirmModal:!1,serverError:""},n}return(0,_.default)(t,e),(0,f.default)(t,[{key:"componentDidMount",value:function(){this.props.enableIncomingWebhooks&&this.props.actions.getIncomingHook(this.props.hookId)}},{key:"render",value:function(){return this.props.hook?k.default.createElement(w.default,{team:this.props.team,header:A,footer:O,enablePostUsernameOverride:this.props.enablePostUsernameOverride,enablePostIconOverride:this.props.enablePostIconOverride,action:this.editIncomingHook,serverError:this.state.serverError,initialHook:this.props.hook}):k.default.createElement(C.default,null)}}]),t}(k.default.PureComponent);j.propTypes={team:E.default.object.isRequired,hook:E.default.object,hookId:E.default.string.isRequired,updateIncomingHookRequest:E.default.object.isRequired,enableIncomingWebhooks:E.default.bool.isRequired,enablePostUsernameOverride:E.default.bool.isRequired,enablePostIconOverride:E.default.bool.isRequired,actions:E.default.shape({updateIncomingHook:E.default.func.isRequired,getIncomingHook:E.default.func.isRequired}).isRequired},t.default=j},2250:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a=(0,g.getCurrentTeamId)(e),n=(0,p.getOutgoingHooks)(e),r=(0,d.default)(n).map(function(e){return n[e]}).filter(function(e){return e.team_id===a});return(0,l.default)({},t,{outgoingWebhooks:r,channels:(0,h.getAllChannels)(e),users:(0,_.getUsers)(e),teamId:a})}function o(e){return{actions:(0,c.bindActionCreators)({getOutgoingHooks:f.getOutgoingHooks,removeOutgoingHook:f.removeOutgoingHook,regenOutgoingHookToken:f.regenOutgoingHookToken},e)}}Object.defineProperty(t,"__esModule",{value:!0});var s=a(44),l=n(s),i=a(108),d=n(i),u=a(243),c=a(1),m=a(760),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(m),p=a(851),g=a(730),h=a(735),_=a(714),v=a(2251),E=n(v);t.default=(0,u.connect)(r,o)(E.default)},2251:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(239),o=n(r),s=a(238),l=n(s),i=a(242),d=n(i),u=a(240),c=n(u),m=a(241),f=n(m),p=a(21),g=n(p),h=a(13),_=n(h),v=a(697),E=a(698),b=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(E),k=a(43),M=n(k),y=a(923),w=n(y),N=a(2252),C=n(N),A=function(e){function t(e){(0,l.default)(this,t);var a=(0,c.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return a.regenOutgoingWebhookToken=function(e){a.props.actions.regenOutgoingHookToken(e.id)},a.removeOutgoingHook=function(e){a.props.actions.removeOutgoingHook(e.id)},a.outgoingWebhookCompare=a.outgoingWebhookCompare.bind(a),a.state={loading:!0},a}return(0,f.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){var e=this;"true"===window.mm_config.EnableOutgoingWebhooks&&this.props.actions.getOutgoingHooks("",this.props.teamId,M.default.Integrations.START_PAGE_NUM,M.default.Integrations.PAGE_SIZE).then(function(){return e.setState({loading:!1})})}},{key:"outgoingWebhookCompare",value:function(e,t){var a=e.display_name;if(!a){var n=this.props.channels[e.channel_id];a=n?n.display_name:b.localizeMessage("installed_outgoing_webhooks.unknown_channel","A Private Webhook")}var r=t.display_name;if(!r){var o=this.props.channels[t.channel_id];r=o?o.display_name:b.localizeMessage("installed_outgoing_webhooks.unknown_channel","A Private Webhook")}return a.localeCompare(r)}},{key:"render",value:function(){var e=this,t=this.props.outgoingWebhooks.sort(this.outgoingWebhookCompare).map(function(t){var a=e.props.isAdmin||e.props.user.id===t.creator_id,n=e.props.channels[t.channel_id];return _.default.createElement(C.default,{key:t.id,outgoingWebhook:t,onRegenToken:e.regenOutgoingWebhookToken,onDelete:e.removeOutgoingHook,creator:e.props.users[t.creator_id]||{},canChange:a,team:e.props.team,channel:n})});return _.default.createElement(w.default,{header:_.default.createElement(v.FormattedMessage,{id:"installed_outgoing_webhooks.header",defaultMessage:"Installed Outgoing Webhooks"}),addText:_.default.createElement(v.FormattedMessage,{id:"installed_outgoing_webhooks.add",defaultMessage:"Add Outgoing Webhook"}),addLink:"/"+this.props.team.name+"/integrations/outgoing_webhooks/add",emptyText:_.default.createElement(v.FormattedMessage,{id:"installed_outgoing_webhooks.empty",defaultMessage:"No outgoing webhooks found"}),helpText:_.default.createElement(v.FormattedMessage,{id:"installed_outgoing_webhooks.help",defaultMessage:"Use outgoing webhooks to connect external tools to Mattermost. {buildYourOwn} or visit the {appDirectory} to find self-hosted, third-party apps and integrations.",values:{buildYourOwn:_.default.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"http://docs.mattermost.com/developer/webhooks-outgoing.html"},_.default.createElement(v.FormattedMessage,{id:"installed_outgoing_webhooks.help.buildYourOwn",defaultMessage:"Build your own"})),appDirectory:_.default.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://about.mattermost.com/default-app-directory/"},_.default.createElement(v.FormattedMessage,{id:"installed_outgoing_webhooks.help.appDirectory",defaultMessage:"App Directory"}))}}),searchPlaceholder:b.localizeMessage("installed_outgoing_webhooks.search","Search Outgoing Webhooks"),loading:this.state.loading},t)}}]),t}(_.default.PureComponent);A.propTypes={team:g.default.object,user:g.default.object,isAdmin:g.default.bool,outgoingWebhooks:g.default.array,channels:g.default.object,users:g.default.object,teamId:g.default.string,actions:g.default.shape({removeOutgoingHook:g.default.func,getOutgoingHooks:g.default.func,regenOutgoingHookToken:g.default.func})},t.default=A},2252:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(722),o=n(r),s=a(239),l=n(s),i=a(238),d=n(i),u=a(242),c=n(u),m=a(240),f=n(m),p=a(241),g=n(p),h=a(21),_=n(h),v=a(13),E=n(v),b=a(697),k=a(244),M=a(924),y=n(M),w=function(e){function t(e){(0,d.default)(this,t);var a=(0,f.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return a.handleRegenToken=a.handleRegenToken.bind(a),a.handleDelete=a.handleDelete.bind(a),a}return(0,g.default)(t,e),(0,c.default)(t,[{key:"handleRegenToken",value:function(e){e.preventDefault(),this.props.onRegenToken(this.props.outgoingWebhook)}},{key:"handleDelete",value:function(){this.props.onDelete(this.props.outgoingWebhook)}},{key:"makeDisplayName",value:function(e,t){return e.display_name?e.display_name:t?t.display_name:E.default.createElement(b.FormattedMessage,{id:"installed_outgoing_webhooks.unknown_channel",defaultMessage:"A Private Webhook"})}},{key:"matchesFilter",value:function(e,t,a){if(!a)return!0;var n=e.display_name,r=e.description,s=e.trigger_words;if(n&&-1!==n.toLowerCase().indexOf(a)||r&&-1!==r.toLowerCase().indexOf(a))return!0;if(s){var l=!0,i=!1,d=void 0;try{for(var u,c=(0,o.default)(s);!(l=(u=c.next()).done);l=!0){if(-1!==u.value.toLowerCase().indexOf(a))return!0}}catch(e){i=!0,d=e}finally{try{!l&&c.return&&c.return()}finally{if(i)throw d}}}return!(!t||!t.name||-1===t.name.toLowerCase().indexOf(a))}},{key:"render",value:function(){var e=this.props.outgoingWebhook,t=this.props.channel,a=this.props.filter?this.props.filter.toLowerCase():"";if(e&&!this.matchesFilter(e,t,a))return null;var n=this.makeDisplayName(e,t),r=null;e.description&&(r=E.default.createElement("div",{className:"item-details__row"},E.default.createElement("span",{className:"item-details__description"},e.description)));var o=null;e.trigger_words&&e.trigger_words.length>0&&(o=E.default.createElement("div",{className:"item-details__row"},E.default.createElement("span",{className:"item-details__trigger-words"},E.default.createElement(b.FormattedMessage,{id:"installed_integrations.triggerWords",defaultMessage:"Trigger Words: {triggerWords}",values:{triggerWords:e.trigger_words.join(", ")}}))));var s=E.default.createElement("div",{className:"item-details__row"},E.default.createElement("span",{className:"item-details__url"},E.default.createElement(b.FormattedMessage,{id:"installed_integrations.callback_urls",defaultMessage:"Callback URLs: {urls}",values:{urls:e.callback_urls.join(", ")}}))),l=void 0;0===e.trigger_when?l=E.default.createElement(b.FormattedMessage,{id:"add_outgoing_webhook.triggerWordsTriggerWhenFullWord",defaultMessage:"First word matches a trigger word exactly"}):1===e.trigger_when&&(l=E.default.createElement(b.FormattedMessage,{id:"add_outgoing_webhook.triggerWordsTriggerWhenStartsWith",defaultMessage:"First word starts with a trigger word"}));var i=null;return this.props.canChange&&(i=E.default.createElement("div",{className:"item-actions"},E.default.createElement("button",{className:"style--none color--link",onClick:this.handleRegenToken},E.default.createElement(b.FormattedMessage,{id:"installed_integrations.regenToken",defaultMessage:"Regen Token"}))," - ",E.default.createElement(k.Link,{to:"/"+this.props.team.name+"/integrations/outgoing_webhooks/edit?id="+e.id},E.default.createElement(b.FormattedMessage,{id:"installed_integrations.edit",defaultMessage:"Edit"}))," - ",E.default.createElement(y.default,{messageId:"installed_outgoing_webhooks.delete.confirm",onDelete:this.handleDelete}))),E.default.createElement("div",{className:"backstage-list__item"},E.default.createElement("div",{className:"item-details"},E.default.createElement("div",{className:"item-details__row"},E.default.createElement("span",{className:"item-details__name"},n)),r,E.default.createElement("div",{className:"item-details__row"},E.default.createElement("span",{className:"item-details__content_type"},E.default.createElement(b.FormattedMessage,{id:"installed_integrations.content_type",defaultMessage:"Content-Type: {contentType}",values:{contentType:e.content_type||"application/x-www-form-urlencoded"}}))),o,E.default.createElement("div",{className:"item-details__row"},E.default.createElement("span",{className:"item-details__trigger-when"},E.default.createElement(b.FormattedMessage,{id:"installed_integrations.triggerWhen",defaultMessage:"Trigger When: {triggerWhen}",values:{triggerWhen:l}}))),E.default.createElement("div",{className:"item-details__row"},E.default.createElement("span",{className:"item-details__token"},E.default.createElement(b.FormattedMessage,{id:"installed_integrations.token",defaultMessage:"Token: {token}",values:{token:e.token}}))),E.default.createElement("div",{className:"item-details__row"},E.default.createElement("span",{className:"item-details__creation"},E.default.createElement(b.FormattedMessage,{id:"installed_integrations.creation",defaultMessage:"Created by {creator} on {createAt, date, full}",values:{creator:this.props.creator.username,createAt:e.create_at}}))),s),i)}}]),t}(E.default.PureComponent);w.propTypes={outgoingWebhook:_.default.object.isRequired,onRegenToken:_.default.func.isRequired,onDelete:_.default.func.isRequired,filter:_.default.string,creator:_.default.object.isRequired,canChange:_.default.bool.isRequired,team:_.default.object.isRequired,channel:_.default.object},t.default=w},2253:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return(0,l.default)({},t,{createOutgoingHookRequest:e.requests.integrations.createOutgoingHook})}function o(e){return{actions:(0,d.bindActionCreators)({createOutgoingHook:u.createOutgoingHook},e)}}Object.defineProperty(t,"__esModule",{value:!0});var s=a(44),l=n(s),i=a(243),d=a(1),u=a(760),c=a(2254),m=n(c);t.default=(0,i.connect)(r,o)(m.default)},2254:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(106),o=n(r),s=a(107),l=n(s),i=a(239),d=n(i),u=a(238),c=n(u),m=a(242),f=n(m),p=a(240),g=n(p),h=a(241),_=n(h),v=a(21),E=n(v),b=a(13),k=n(b),M=a(248),y=a(1231),w=n(y),N={id:"integrations.add",defaultMessage:"Add"},C={id:"add_outgoing_webhook.save",defaultMessage:"Save"},A=function(e){function t(e){var a=this;(0,c.default)(this,t);var n=(0,g.default)(this,(t.__proto__||(0,d.default)(t)).call(this,e));return n.addOutgoingHook=function(){var e=(0,l.default)(o.default.mark(function e(t){var r,s;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({serverError:""}),e.next=3,n.props.actions.createOutgoingHook(t);case 3:if(r=e.sent,!(s=r.data)){e.next=8;break}return M.browserHistory.push("/"+n.props.team.name+"/integrations/confirm?type=outgoing_webhooks&id="+s.id),e.abrupt("return");case 8:n.props.createOutgoingHookRequest.error&&n.setState({serverError:n.props.createOutgoingHookRequest.error.message});case 9:case"end":return e.stop()}},e,a)}));return function(t){return e.apply(this,arguments)}}(),n.state={serverError:""},n}return(0,_.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){return k.default.createElement(w.default,{team:this.props.team,header:N,footer:C,renderExtra:"",action:this.addOutgoingHook,serverError:this.state.serverError})}}]),t}(k.default.PureComponent);A.propTypes={team:E.default.object.isRequired,createOutgoingHookRequest:E.default.object.isRequired,actions:E.default.shape({createOutgoingHook:E.default.func.isRequired}).isRequired},t.default=A},2255:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a=new URLSearchParams(t.location.search).get("id");return(0,l.default)({},t,{hookId:a,hook:e.entities.integrations.outgoingHooks[a],updateOutgoingHookRequest:e.requests.integrations.createOutgoingHook})}function o(e){return{actions:(0,d.bindActionCreators)({updateOutgoingHook:u.updateOutgoingHook,getOutgoingHook:u.getOutgoingHook},e)}}Object.defineProperty(t,"__esModule",{value:!0});var s=a(44),l=n(s),i=a(243),d=a(1),u=a(760),c=a(2256),m=n(c);t.default=(0,i.connect)(r,o)(m.default)},2256:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(106),o=n(r),s=a(107),l=n(s),i=a(239),d=n(i),u=a(238),c=n(u),m=a(242),f=n(m),p=a(240),g=n(p),h=a(241),_=n(h),v=a(21),E=n(v),b=a(13),k=n(b),M=a(697),y=a(248),w=a(758),N=n(w),C=a(1231),A=n(C),O=a(732),j=n(O),S={id:"integrations.edit",defaultMessage:"Edit"},F={id:"update_outgoing_webhook.update",defaultMessage:"Update"},R=function(e){function t(e){var a=this;(0,c.default)(this,t);var n=(0,g.default)(this,(t.__proto__||(0,d.default)(t)).call(this,e));return n.editOutgoingHook=function(){var e=(0,l.default)(o.default.mark(function e(t){var r,s;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.newHook=t,n.props.hook.id&&(t.id=n.props.hook.id),n.props.hook.token&&(t.token=n.props.hook.token),r=n.props.hook.trigger_words.length===t.trigger_words.length&&n.props.hook.trigger_words.every(function(e,a){return e===t.trigger_words[a]}),s=n.props.hook.callback_urls.length===t.callback_urls.length&&n.props.hook.callback_urls.every(function(e,a){return e===t.callback_urls[a]}),n.props.hook.content_type===t.content_type&&r&&s){e.next=9;break}n.handleConfirmModal(),e.next=11;break;case 9:return e.next=11,n.submitHook();case 11:case"end":return e.stop()}},e,a)}));return function(t){return e.apply(this,arguments)}}(),n.handleConfirmModal=function(){n.setState({showConfirmModal:!0})},n.confirmModalDismissed=function(){n.setState({showConfirmModal:!1})},n.submitHook=(0,l.default)(o.default.mark(function e(){var t,r;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({serverError:""}),e.next=3,n.props.actions.updateOutgoingHook(n.newHook);case 3:if(t=e.sent,!(r=t.data)){e.next=8;break}return y.browserHistory.push("/"+n.props.team.name+"/integrations/outgoing_webhooks"),e.abrupt("return");case 8:n.setState({showConfirmModal:!1}),n.props.updateOutgoingHookRequest.error&&n.setState({serverError:n.props.updateOutgoingHookRequest.error.message});case 10:case"end":return e.stop()}},e,a)})),n.renderExtra=function(){var e=k.default.createElement(M.FormattedMessage,{id:"update_outgoing_webhook.update",defaultMessage:"Update"}),t=k.default.createElement(M.FormattedMessage,{id:"update_outgoing_webhook.confirm",defaultMessage:"Edit Outgoing Webhook"}),a=k.default.createElement(M.FormattedMessage,{id:"update_outgoing_webhook.question",defaultMessage:"Your changes may break the existing outgoing webhook. Are you sure you would like to update it?"});return k.default.createElement(N.default,{title:t,message:a,confirmButtonText:e,show:n.state.showConfirmModal,onConfirm:n.submitHook,onCancel:n.confirmModalDismissed})},n.state={showConfirmModal:!1,serverError:""},n}return(0,_.default)(t,e),(0,f.default)(t,[{key:"componentDidMount",value:function(){"true"===window.mm_config.EnableOutgoingWebhooks&&this.props.actions.getOutgoingHook(this.props.hookId)}},{key:"render",value:function(){return this.props.hook?k.default.createElement(A.default,{team:this.props.team,header:S,footer:F,renderExtra:this.renderExtra(),action:this.editOutgoingHook,serverError:this.state.serverError,initialHook:this.props.hook}):k.default.createElement(j.default,null)}}]),t}(k.default.PureComponent);R.propTypes={team:E.default.object.isRequired,hook:E.default.object,hookId:E.default.string.isRequired,updateOutgoingHookRequest:E.default.object.isRequired,actions:E.default.shape({updateOutgoingHook:E.default.func.isRequired,getOutgoingHook:E.default.func.isRequired}).isRequired},t.default=R},2257:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return(0,l.default)({},t,{oauthApps:(0,m.getOAuthApps)(e),isSystemAdmin:(0,f.isCurrentUserSystemAdmin)(e),regenOAuthAppSecretRequest:e.requests.integrations.updateOAuthApp})}function o(e){return{actions:(0,d.bindActionCreators)({getOAuthApps:c.getOAuthApps,regenOAuthAppSecret:c.regenOAuthAppSecret,deleteOAuthApp:c.deleteOAuthApp},e)}}Object.defineProperty(t,"__esModule",{value:!0});var s=a(44),l=n(s),i=a(243),d=a(1),u=a(760),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(u),m=a(851),f=a(714),p=a(2258),g=n(p);t.default=(0,i.connect)(r,o)(g.default)},2258:function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(44),o=n(r),s=a(752),l=n(s),i=a(239),d=n(i),u=a(238),c=n(u),m=a(242),f=n(m),p=a(240),g=n(p),h=a(241),_=n(h),v=a(21),E=n(v),b=a(13),k=n(b),M=a(697),y=a(698),w=a(923),N=n(w),C=a(2259),A=n(C),O=function(t){function a(e){(0,c.default)(this,a);var t=(0,g.default)(this,(a.__proto__||(0,d.default)(a)).call(this,e));return t.deleteOAuthApp=function(e){e&&e.id&&t.props.actions.deleteOAuthApp(e.id)},t.state={loading:!0},t}return(0,_.default)(a,t),(0,f.default)(a,[{key:"componentDidMount",value:function(){var e=this;"true"===window.mm_config.EnableOAuthServiceProvider&&this.props.actions.getOAuthApps().then(function(){return e.setState({loading:!1})})}},{key:"oauthAppCompare",value:function(e,t){var a=e.name;a||(a=(0,y.localizeMessage)("installed_integrations.unnamed_oauth_app","Unnamed OAuth 2.0 Application"));var n=t.name;return n||(n=(0,y.localizeMessage)("installed_integrations.unnamed_oauth_app","Unnamed OAuth 2.0 Application")),a.localeCompare(n)}},{key:"render",value:function(){var t=this,a=(0,l.default)(this.props.oauthApps).sort(this.oauthAppCompare).map(function(e){return k.default.createElement(A.default,{key:e.id,team:t.props.team,oauthApp:e,regenOAuthAppSecretRequest:t.props.regenOAuthAppSecretRequest,onRegenerateSecret:t.props.actions.regenOAuthAppSecret,onDelete:t.deleteOAuthApp})}),n=e.mm_config,r="true"===n.EnableOAuthServiceProvider&&(this.props.isSystemAdmin||"true"!==n.EnableOnlyAdminIntegrations),s=void 0;return r&&(s={addLink:"/"+this.props.team.name+"/integrations/oauth2-apps/add",addText:(0,y.localizeMessage)("installed_oauth_apps.add","Add OAuth 2.0 Application")}),k.default.createElement(N.default,(0,o.default)({header:k.default.createElement(M.FormattedMessage,{id:"installed_oauth_apps.header",defaultMessage:"OAuth 2.0 Applications"}),helpText:k.default.createElement(M.FormattedMessage,{id:"installed_oauth_apps.help",defaultMessage:"Create {oauthApplications} to securely integrate bots and third-party apps with Mattermost. Visit the {appDirectory} to find available self-hosted apps.",values:{oauthApplications:k.default.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://docs.mattermost.com/developer/oauth-2-0-applications.html"},k.default.createElement(M.FormattedMessage,{id:"installed_oauth_apps.help.oauthApplications",defaultMessage:"OAuth 2.0 applications"})),appDirectory:k.default.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://about.mattermost.com/default-app-directory/"},k.default.createElement(M.FormattedMessage,{id:"installed_oauth_apps.help.appDirectory",defaultMessage:"App Directory"}))}}),emptyText:k.default.createElement(M.FormattedMessage,{id:"installed_oauth_apps.empty",defaultMessage:"No OAuth 2.0 Applications found"}),searchPlaceholder:(0,y.localizeMessage)("installed_oauth_apps.search","Search OAuth 2.0 Applications"),loading:this.state.loading},s),a)}}]),a}(k.default.PureComponent);O.propTypes={team:E.default.object,oauthApps:E.default.object,isSystemAdmin:E.default.bool,regenOAuthAppSecretRequest:E.default.object.isRequired,actions:E.default.shape({getOAuthApps:E.default.func.isRequired,regenOAuthAppSecret:E.default.func.isRequired,deleteOAuthApp:E.default.func.isRequired}).isRequired},t.default=O}).call(t,a(22))},2259:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(239),o=n(r),s=a(238),l=n(s),i=a(242),d=n(i),u=a(240),c=n(u),m=a(241),f=n(m),p=a(21),g=n(p),h=a(13),_=n(h),v=a(697),E=a(244),b=a(698),k=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(b),M=a(762),y=n(M),w=a(924),N=n(w),C="***************",A=function(e){function t(e){(0,l.default)(this,t);var a=(0,c.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return a.handleShowClientSecret=function(e){e&&e.preventDefault&&e.preventDefault(),a.setState({clientSecret:a.props.oauthApp.client_secret})},a.handleHideClientSecret=function(e){e.preventDefault(),a.setState({clientSecret:C})},a.handleRegenerate=function(e){e.preventDefault(),a.props.onRegenerateSecret(a.props.oauthApp.id).then(function(){var e=a.props.regenOAuthAppSecretRequest.error;e?a.setState({error:e.message}):(a.setState({error:null}),a.handleShowClientSecret())})},a.handleDelete=function(){a.props.onDelete(a.props.oauthApp)},a.matchesFilter=function(e,t){return!t||-1!==e.name.toLowerCase().indexOf(t)},a.state={clientSecret:C},a}return(0,f.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e=this.props.oauthApp,t=void 0;if(this.state.error&&(t=_.default.createElement(y.default,{error:this.state.error})),!this.matchesFilter(e,this.props.filter))return null;var a=void 0;a=e.name?e.name:_.default.createElement(v.FormattedMessage,{id:"installed_integrations.unnamed_oauth_app",defaultMessage:"Unnamed OAuth 2.0 Application"});var n=void 0;e.description&&(n=_.default.createElement("div",{className:"item-details__row"},_.default.createElement("span",{className:"item-details__description"},e.description)));var r=_.default.createElement("div",{className:"item-details__row"},_.default.createElement("span",{className:"item-details__url"},_.default.createElement(v.FormattedMessage,{id:"installed_integrations.callback_urls",defaultMessage:"Callback URLs: {urls}",values:{urls:e.callback_urls.join(", ")}}))),o=void 0;o=e.is_trusted?k.localizeMessage("installed_oauth_apps.trusted.yes","Yes"):k.localizeMessage("installed_oauth_apps.trusted.no","No");var s=void 0;s=this.state.clientSecret===C?_.default.createElement("button",{id:"showSecretButton",className:"style--none color--link",onClick:this.handleShowClientSecret},_.default.createElement(v.FormattedMessage,{id:"installed_integrations.showSecret",defaultMessage:"Show Secret"})):_.default.createElement("button",{id:"hideSecretButton",className:"style--none color--link",onClick:this.handleHideClientSecret},_.default.createElement(v.FormattedMessage,{id:"installed_integrations.hideSecret",defaultMessage:"Hide Secret"}));var l=_.default.createElement("button",{id:"regenerateSecretButton",className:"style--none color--link",onClick:this.handleRegenerate},_.default.createElement(v.FormattedMessage,{id:"installed_integrations.regenSecret",defaultMessage:"Regenerate Secret"})),i=void 0;return e.icon_url&&(i=_.default.createElement("div",{className:"integration__icon integration-list__icon"},_.default.createElement("img",{src:e.icon_url}))),_.default.createElement("div",{className:"backstage-list__item"},i,_.default.createElement("div",{className:"item-details"},_.default.createElement("div",{className:"item-details__row"},_.default.createElement("span",{className:"item-details__name"},a)),t,n,_.default.createElement("div",{className:"item-details__row"},_.default.createElement("span",{className:"item-details__url"},_.default.createElement(v.FormattedHTMLMessage,{id:"installed_oauth_apps.is_trusted",defaultMessage:"Is Trusted: <strong>{isTrusted}</strong>",values:{isTrusted:o}}))),_.default.createElement("div",{className:"item-details__row"},_.default.createElement("span",{className:"item-details__token"},_.default.createElement(v.FormattedHTMLMessage,{id:"installed_integrations.client_id",defaultMessage:"Client ID: <strong>{clientId}</strong>",values:{clientId:e.id}}))),_.default.createElement("div",{className:"item-details__row"},_.default.createElement("span",{className:"item-details__token"},_.default.createElement(v.FormattedHTMLMessage,{id:"installed_integrations.client_secret",defaultMessage:"Client Secret: <strong>{clientSecret}</strong>",values:{clientSecret:this.state.clientSecret}}))),r,_.default.createElement("div",{className:"item-details__row"},_.default.createElement("span",{className:"item-details__creation"},_.default.createElement(v.FormattedMessage,{id:"installed_integrations.creation",defaultMessage:"Created by {creator} on {createAt, date, full}",values:{creator:k.displayUsername(e.creator_id),createAt:e.create_at}})))),_.default.createElement("div",{className:"item-actions"},s," - ",l," - ",_.default.createElement(E.Link,{to:"/"+this.props.team.name+"/integrations/oauth2-apps/edit?id="+e.id},_.default.createElement(v.FormattedMessage,{id:"installed_integrations.edit",defaultMessage:"Edit"}))," - ",_.default.createElement(N.default,{messageId:"installed_oauth_apps.delete.confirm",onDelete:this.handleDelete})))}}]),t}(_.default.PureComponent);A.propTypes={team:g.default.object,oauthApp:g.default.object.isRequired,regenOAuthAppSecretRequest:g.default.object.isRequired,onRegenerateSecret:g.default.func.isRequired,onDelete:g.default.func.isRequired,filter:g.default.string},t.default=A},2260:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return(0,l.default)({},t,{addOAuthAppRequest:e.requests.integrations.addOAuthApp,isSystemAdmin:(0,c.isCurrentUserSystemAdmin)(e)})}function o(e){return{actions:(0,d.bindActionCreators)({addOAuthApp:u.addOAuthApp},e)}}Object.defineProperty(t,"__esModule",{value:!0});var s=a(44),l=n(s),i=a(243),d=a(1),u=a(760),c=a(714),m=a(2261),f=n(m);t.default=(0,i.connect)(r,o)(f.default)},2261:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(106),o=n(r),s=a(107),l=n(s),i=a(239),d=n(i),u=a(238),c=n(u),m=a(242),f=n(m),p=a(240),g=n(p),h=a(241),_=n(h),v=a(21),E=n(v),b=a(13),k=n(b),M=a(248),y=a(1232),w=n(y),N={id:"add_oauth_app.header",defaultMessage:"Add"},C={id:"installed_oauth_apps.save",defaultMessage:"Save"},A=function(e){function t(e){var a=this;(0,c.default)(this,t);var n=(0,g.default)(this,(t.__proto__||(0,d.default)(t)).call(this,e));return n.addOAuthApp=function(){var e=(0,l.default)(o.default.mark(function e(t){var r,s;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({serverError:""}),e.next=3,n.props.actions.addOAuthApp(t);case 3:if(r=e.sent,!(s=r.data)){e.next=8;break}return M.browserHistory.push("/"+n.props.team.name+"/integrations/confirm?type=oauth2-apps&id="+s.id),e.abrupt("return");case 8:n.props.addOAuthAppRequest.error&&n.setState({serverError:n.props.addOAuthAppRequest.error.message});case 9:case"end":return e.stop()}},e,a)}));return function(t){return e.apply(this,arguments)}}(),n.state={serverError:""},n}return(0,_.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){return k.default.createElement(w.default,{team:this.props.team,isSystemAdmin:this.props.isSystemAdmin,header:N,footer:C,renderExtra:"",action:this.addOAuthApp,serverError:this.state.serverError})}}]),t}(k.default.PureComponent);A.propTypes={team:E.default.object,addOAuthAppRequest:E.default.object.isRequired,isSystemAdmin:E.default.bool,actions:E.default.shape({addOAuthApp:E.default.func.isRequired}).isRequired},t.default=A},2262:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a=new URLSearchParams(t.location.search).get("id");return(0,l.default)({},t,{isSystemAdmin:(0,c.isCurrentUserSystemAdmin)(e),oauthAppId:a,oauthApp:e.entities.integrations.oauthApps[a]})}function o(e){return{actions:(0,d.bindActionCreators)({getOAuthApp:u.getOAuthApp,editOAuthApp:u.editOAuthApp},e)}}Object.defineProperty(t,"__esModule",{value:!0});var s=a(44),l=n(s),i=a(243),d=a(1),u=a(760),c=a(714),m=a(2263),f=n(m);t.default=(0,i.connect)(r,o)(f.default)},2263:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(106),o=n(r),s=a(107),l=n(s),i=a(239),d=n(i),u=a(238),c=n(u),m=a(242),f=n(m),p=a(240),g=n(p),h=a(241),_=n(h),v=a(13),E=n(v),b=a(21),k=n(b),M=a(697),y=a(248),w=a(732),N=n(w),C=a(758),A=n(C),O=a(1232),j=n(O),S={id:"integrations.edit",defaultMessage:"Edit"},F={id:"update_incoming_webhook.update",defaultMessage:"Update"},R=function(e){function t(e){var a=this;(0,c.default)(this,t);var n=(0,g.default)(this,(t.__proto__||(0,d.default)(t)).call(this,e));return n.editOAuthApp=function(){var e=(0,l.default)(o.default.mark(function e(t){var r;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.newApp=t,n.props.oauthApp.id&&(t.id=n.props.oauthApp.id),n.props.oauthApp.token&&(t.token=n.props.oauthApp.token),!1!==(r=n.props.oauthApp.callback_urls.length===t.callback_urls.length&&n.props.oauthApp.callback_urls.every(function(e,a){return e===t.callback_urls[a]}))){e.next=8;break}n.handleConfirmModal(),e.next=10;break;case 8:return e.next=10,n.submitOAuthApp();case 10:case"end":return e.stop()}},e,a)}));return function(t){return e.apply(this,arguments)}}(),n.handleConfirmModal=function(){n.setState({showConfirmModal:!0})},n.confirmModalDismissed=function(){n.setState({showConfirmModal:!1})},n.submitOAuthApp=(0,l.default)(o.default.mark(function e(){var t,r,s;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({serverError:""}),e.next=3,n.props.actions.editOAuthApp(n.newApp);case 3:if(t=e.sent,r=t.data,s=t.error,!r){e.next=9;break}return y.browserHistory.push("/"+n.props.team.name+"/integrations/oauth2-apps"),e.abrupt("return");case 9:n.setState({showConfirmModal:!1}),s&&n.setState({serverError:s.message});case 11:case"end":return e.stop()}},e,a)})),n.renderExtra=function(){var e=E.default.createElement(M.FormattedMessage,{id:"update_command.update",defaultMessage:"Update"}),t=E.default.createElement(M.FormattedMessage,{id:"update_oauth_app.confirm",defaultMessage:"Edit OAuth 2.0 application"}),a=E.default.createElement(M.FormattedMessage,{id:"update_oauth_app.question",defaultMessage:"Your changes may break the existing OAuth 2.0 application. Are you sure you would like to update it?"});return E.default.createElement(A.default,{title:t,message:a,confirmButtonText:e,show:n.state.showConfirmModal,onConfirm:n.submitOAuthApp,onCancel:n.confirmModalDismissed})},n.state={showConfirmModal:!1,serverError:""},n}return(0,_.default)(t,e),(0,f.default)(t,[{key:"componentDidMount",value:function(){"true"===window.mm_config.EnableOAuthServiceProvider&&this.props.actions.getOAuthApp(this.props.oauthAppId)}},{key:"render",value:function(){return this.props.oauthApp?E.default.createElement(j.default,{team:this.props.team,isSystemAdmin:this.props.isSystemAdmin,header:S,footer:F,renderExtra:this.renderExtra(),action:this.editOAuthApp,serverError:this.state.serverError,initialApp:this.props.oauthApp}):E.default.createElement(N.default,null)}}]),t}(E.default.PureComponent);R.propTypes={team:k.default.object.isRequired,isSystemAdmin:k.default.bool,oauthAppId:k.default.string.isRequired,oauthApp:k.default.object,actions:k.default.shape({getOAuthApp:k.default.func.isRequired,editOAuthApp:k.default.func.isRequired}).isRequired},t.default=R},2264:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return(0,d.default)({},t,{commands:(0,l.default)((0,f.getCommands)(e)),users:(0,p.getUsers)(e)})}function o(e){return{actions:(0,c.bindActionCreators)({getCustomTeamCommands:m.getCustomTeamCommands},e)}}Object.defineProperty(t,"__esModule",{value:!0});var s=a(752),l=n(s),i=a(44),d=n(i),u=a(243),c=a(1),m=a(760),f=a(851),p=a(714),g=a(2265),h=n(g);t.default=(0,u.connect)(r,o)(h.default)},2265:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(239),o=n(r),s=a(238),l=n(s),i=a(242),d=n(i),u=a(240),c=n(u),m=a(241),f=n(m),p=a(44),g=n(p),h=a(749),_=n(h),v=a(21),E=n(v),b=a(13),k=n(b),M=a(244),y=a(2266),w=n(y),N=a(2269),C=n(N),A=a(2271),O=n(A),j=a(1234),S=n(j),F=function(e){var t=e.component,a=e.extraProps,n=(0,_.default)(e,["component","extraProps"]);return k.default.createElement(M.Route,(0,g.default)({},n,{render:function(e){return k.default.createElement(t,(0,g.default)({},a,e))}}))},R=function(e){function t(e){(0,l.default)(this,t);var a=(0,c.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return a.state={loading:!0},a}return(0,f.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){var e=this;"true"===window.mm_config.EnableCommands&&this.props.actions.getCustomTeamCommands(this.props.team.id).then(function(){return e.setState({loading:!1})})}},{key:"render",value:function(){var e=this,t={loading:this.state.loading,commands:this.props.commands||[],users:this.props.users,team:this.props.team,user:this.props.user,isAdmin:this.props.isAdmin};return k.default.createElement("div",null,k.default.createElement(M.Switch,null,k.default.createElement(M.Route,{exact:!0,path:this.props.match.url+"/",render:function(){return k.default.createElement(M.Redirect,{to:e.props.match.url+"/installed"})}}),k.default.createElement(F,{extraProps:t,path:this.props.match.url+"/installed",component:w.default}),k.default.createElement(F,{extraProps:t,path:this.props.match.url+"/add",component:C.default}),k.default.createElement(F,{extraProps:t,path:this.props.match.url+"/edit",component:O.default}),k.default.createElement(F,{extraProps:t,path:this.props.match.url+"/confirm",component:S.default})))}}]),t}(k.default.PureComponent);R.propTypes={team:E.default.object,user:E.default.object,isAdmin:E.default.bool,users:E.default.object,commands:E.default.array,actions:E.default.shape({getCustomTeamCommands:E.default.func.isRequired}).isRequired},t.default=R},2266:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return(0,l.default)({},t)}function o(e){return{actions:(0,d.bindActionCreators)({regenCommandToken:u.regenCommandToken,deleteCommand:u.deleteCommand},e)}}Object.defineProperty(t,"__esModule",{value:!0});var s=a(44),l=n(s),i=a(243),d=a(1),u=a(760),c=a(2267),m=n(c);t.default=(0,i.connect)(r,o)(m.default)},2267:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(239),o=n(r),s=a(238),l=n(s),i=a(242),d=n(i),u=a(240),c=n(u),m=a(241),f=n(m),p=a(21),g=n(p),h=a(13),_=n(h),v=a(697),E=a(698),b=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(E),k=a(923),M=n(k),y=a(2268),w=n(y),N=function(e){function t(){var e,a,n,r;(0,l.default)(this,t);for(var s=arguments.length,i=Array(s),d=0;d<s;d++)i[d]=arguments[d];return a=n=(0,c.default)(this,(e=t.__proto__||(0,o.default)(t)).call.apply(e,[this].concat(i))),n.regenCommandToken=function(e){n.props.actions.regenCommandToken(e.id)},n.deleteCommand=function(e){n.props.actions.deleteCommand(e.id)},r=a,(0,c.default)(n,r)}return(0,f.default)(t,e),(0,d.default)(t,[{key:"commandCompare",value:function(e,t){var a=e.display_name;a||(a=b.localizeMessage("installed_commands.unnamed_command","Unnamed Slash Command"));var n=t.display_name;return n||(n=b.localizeMessage("installed_commands.unnamed_command","Unnamed Slash Command")),a.localeCompare(n)}},{key:"render",value:function(){var e=this,t=this.props.commands.filter(function(t){return t.team_id===e.props.team.id}).sort(this.commandCompare).map(function(t){var a=e.props.isAdmin||e.props.user.id===t.creator_id;return _.default.createElement(w.default,{key:t.id,team:e.props.team,command:t,onRegenToken:e.regenCommandToken,onDelete:e.deleteCommand,creator:e.props.users[t.creator_id]||{},canChange:a})});return _.default.createElement(M.default,{header:_.default.createElement(v.FormattedMessage,{id:"installed_commands.header",defaultMessage:"Installed Slash Commands"}),addText:_.default.createElement(v.FormattedMessage,{id:"installed_commands.add",defaultMessage:"Add Slash Command"}),addLink:"/"+this.props.team.name+"/integrations/commands/add",emptyText:_.default.createElement(v.FormattedMessage,{id:"installed_commands.empty",defaultMessage:"No slash commands found"}),helpText:_.default.createElement(v.FormattedMessage,{id:"installed_commands.help",defaultMessage:"Use slash commands to connect external tools to Mattermost. {buildYourOwn} or visit the {appDirectory} to find self-hosted, third-party apps and integrations.",values:{buildYourOwn:_.default.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"http://docs.mattermost.com/developer/slash-commands.html"},_.default.createElement(v.FormattedMessage,{id:"installed_commands.help.buildYourOwn",defaultMessage:"Build your own"})),appDirectory:_.default.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://about.mattermost.com/default-app-directory/"},_.default.createElement(v.FormattedMessage,{id:"installed_commands.help.appDirectory",defaultMessage:"App Directory"}))}}),searchPlaceholder:b.localizeMessage("installed_commands.search","Search Slash Commands"),loading:this.props.loading},t)}}]),t}(_.default.PureComponent);N.propTypes={team:g.default.object,user:g.default.object,users:g.default.object,commands:g.default.array,loading:g.default.bool,isAdmin:g.default.bool,actions:g.default.shape({regenCommandToken:g.default.func.isRequired,deleteCommand:g.default.func.isRequired}).isRequired},t.default=N},2268:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(239),o=n(r),s=a(238),l=n(s),i=a(242),d=n(i),u=a(240),c=n(u),m=a(241),f=n(m),p=a(21),g=n(p),h=a(13),_=n(h),v=a(697),E=a(244),b=a(924),k=n(b),M=function(e){function t(){var e,a,n,r;(0,l.default)(this,t);for(var s=arguments.length,i=Array(s),d=0;d<s;d++)i[d]=arguments[d];return a=n=(0,c.default)(this,(e=t.__proto__||(0,o.default)(t)).call.apply(e,[this].concat(i))),n.handleRegenToken=function(e){e.preventDefault(),n.props.onRegenToken(n.props.command)},n.handleDelete=function(){n.props.onDelete(n.props.command)},r=a,(0,c.default)(n,r)}return(0,f.default)(t,e),(0,d.default)(t,[{key:"matchesFilter",value:function(e,t){return!t||(-1!==e.display_name.toLowerCase().indexOf(t)||-1!==e.description.toLowerCase().indexOf(t)||-1!==e.trigger.toLowerCase().indexOf(t))}},{key:"render",value:function(){var e=this.props.command,t=this.props.filter?this.props.filter.toLowerCase():"";if(!this.matchesFilter(e,t))return null;var a=void 0;a=e.display_name?e.display_name:_.default.createElement(v.FormattedMessage,{id:"installed_commands.unnamed_command",defaultMessage:"Unnamed Slash Command"});var n=null;e.description&&(n=_.default.createElement("div",{className:"item-details__row"},_.default.createElement("span",{className:"item-details__description"},e.description)));var r="- /"+e.trigger;e.auto_complete&&e.auto_complete_hint&&(r+=" "+e.auto_complete_hint);var o=null;return this.props.canChange&&(o=_.default.createElement("div",{className:"item-actions"},_.default.createElement("button",{className:"style--none color--link",onClick:this.handleRegenToken},_.default.createElement(v.FormattedMessage,{id:"installed_integrations.regenToken",defaultMessage:"Regenerate Token"}))," - ",_.default.createElement(E.Link,{to:"/"+this.props.team.name+"/integrations/commands/edit?id="+e.id},_.default.createElement(v.FormattedMessage,{id:"installed_integrations.edit",defaultMessage:"Edit"}))," - ",_.default.createElement(k.default,{messageId:"installed_commands.delete.confirm",onDelete:this.handleDelete}))),_.default.createElement("div",{className:"backstage-list__item"},_.default.createElement("div",{className:"item-details"},_.default.createElement("div",{className:"item-details__row"},_.default.createElement("span",{className:"item-details__name"},a),_.default.createElement("span",{className:"item-details__trigger"},r)),n,_.default.createElement("div",{className:"item-details__row"},_.default.createElement("span",{className:"item-details__token"},_.default.createElement(v.FormattedMessage,{id:"installed_integrations.token",defaultMessage:"Token: {token}",values:{token:e.token}}))),_.default.createElement("div",{className:"item-details__row"},_.default.createElement("span",{className:"item-details__creation"},_.default.createElement(v.FormattedMessage,{id:"installed_integrations.creation",defaultMessage:"Created by {creator} on {createAt, date, full}",values:{creator:this.props.creator.username,createAt:e.create_at}})))),o)}}]),t}(_.default.PureComponent);M.propTypes={team:g.default.object.isRequired,command:g.default.object.isRequired,onRegenToken:g.default.func.isRequired,onDelete:g.default.func.isRequired,filter:g.default.string,creator:g.default.object.isRequired,canChange:g.default.bool.isRequired},t.default=M},2269:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return(0,l.default)({},t)}function o(e){return{actions:(0,d.bindActionCreators)({addCommand:u.addCommand},e)}}Object.defineProperty(t,"__esModule",{value:!0});var s=a(44),l=n(s),i=a(243),d=a(1),u=a(760),c=a(2270),m=n(c);t.default=(0,i.connect)(r,o)(m.default)},2270:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(106),o=n(r),s=a(107),l=n(s),i=a(239),d=n(i),u=a(238),c=n(u),m=a(242),f=n(m),p=a(240),g=n(p),h=a(241),_=n(h),v=a(21),E=n(v),b=a(13),k=n(b),M=a(248),y=a(1233),w=n(y),N={id:"integrations.add",defaultMessage:"Add"},C={id:"add_command.save",defaultMessage:"Save"},A=function(e){function t(e){var a=this;(0,c.default)(this,t);var n=(0,g.default)(this,(t.__proto__||(0,d.default)(t)).call(this,e));return n.addCommand=function(){var e=(0,l.default)(o.default.mark(function e(t){var r,s,l;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({serverError:""}),e.next=3,n.props.actions.addCommand(t);case 3:if(r=e.sent,s=r.data,l=r.error,!s){e.next=9;break}return M.browserHistory.push("/"+n.props.team.name+"/integrations/commands/confirm?type=commands&id="+s.id),e.abrupt("return");case 9:l&&n.setState({serverError:l.message});case 10:case"end":return e.stop()}},e,a)}));return function(t){return e.apply(this,arguments)}}(),n.state={serverError:""},n}return(0,_.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){return k.default.createElement(w.default,{team:this.props.team,header:N,footer:C,renderExtra:"",action:this.addCommand,serverError:this.state.serverError})}}]),t}(k.default.PureComponent);A.propTypes={team:E.default.object,actions:E.default.shape({addCommand:E.default.func.isRequired}).isRequired},t.default=A},2271:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a=new URLSearchParams(t.location.search).get("id");return(0,l.default)({},t,{commandId:a,commands:(0,c.getCommands)(e)})}function o(e){return{actions:(0,d.bindActionCreators)({getCustomTeamCommands:u.getCustomTeamCommands,editCommand:u.editCommand},e)}}Object.defineProperty(t,"__esModule",{value:!0});var s=a(44),l=n(s),i=a(243),d=a(1),u=a(760),c=a(851),m=a(2272),f=n(m);t.default=(0,i.connect)(r,o)(f.default)},2272:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(752),o=n(r),s=a(106),l=n(s),i=a(107),d=n(i),u=a(239),c=n(u),m=a(238),f=n(m),p=a(242),g=n(p),h=a(240),_=n(h),v=a(241),E=n(v),b=a(21),k=n(b),M=a(13),y=n(M),w=a(697),N=a(248),C=a(732),A=n(C),O=a(758),j=n(O),S=a(1233),F=n(S),R={id:"integrations.edit",defaultMessage:"Edit"},T={id:"edit_command.save",defaultMessage:"Update"},x=function(e){function t(e){var a=this;(0,f.default)(this,t);var n=(0,_.default)(this,(t.__proto__||(0,c.default)(t)).call(this,e));return n.editCommand=function(){var e=(0,d.default)(l.default.mark(function e(t){return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.newCommand=t,n.state.originalCommand.id&&(t.id=n.state.originalCommand.id),n.state.originalCommand.url===n.newCommand.url&&n.state.originalCommand.trigger===n.newCommand.trigger&&n.state.originalCommand.method===n.newCommand.method){e.next=6;break}n.handleConfirmModal(),e.next=8;break;case 6:return e.next=8,n.submitCommand();case 8:case"end":return e.stop()}},e,a)}));return function(t){return e.apply(this,arguments)}}(),n.handleConfirmModal=function(){n.setState({showConfirmModal:!0})},n.confirmModalDismissed=function(){n.setState({showConfirmModal:!1})},n.submitCommand=(0,d.default)(l.default.mark(function e(){var t,r,o;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({serverError:""}),e.next=3,n.props.actions.editCommand(n.newCommand);case 3:if(t=e.sent,r=t.data,o=t.error,!r){e.next=9;break}return N.browserHistory.push("/"+n.props.team.name+"/integrations/commands"),e.abrupt("return");case 9:n.setState({showConfirmModal:!1}),o&&n.setState({serverError:o.message});case 11:case"end":return e.stop()}},e,a)})),n.renderExtra=function(){var e=y.default.createElement(w.FormattedMessage,{id:"update_command.update",defaultMessage:"Update"}),t=y.default.createElement(w.FormattedMessage,{id:"update_command.confirm",defaultMessage:"Edit Slash Command"}),a=y.default.createElement(w.FormattedMessage,{id:"update_command.question",defaultMessage:"Your changes may break the existing slash command. Are you sure you would like to update it?"});return y.default.createElement(j.default,{title:t,message:a,confirmButtonText:e,show:n.state.showConfirmModal,onConfirm:n.submitCommand,onCancel:n.confirmModalDismissed})},n.state={originalCommand:null,showConfirmModal:!1,serverError:""},n}return(0,E.default)(t,e),(0,g.default)(t,[{key:"componentDidMount",value:function(){var e=this;"true"===window.mm_config.EnableCommands&&this.props.actions.getCustomTeamCommands(this.props.team.id).then(function(){e.setState({originalCommand:(0,o.default)(e.props.commands).filter(function(t){return t.id===e.props.commandId})[0]})})}},{key:"render",value:function(){return this.state.originalCommand?y.default.createElement(F.default,{team:this.props.team,header:R,footer:T,renderExtra:this.renderExtra(),action:this.editCommand,serverError:this.state.serverError,initialCommand:this.state.originalCommand}):y.default.createElement(A.default,null)}}]),t}(y.default.PureComponent);x.propTypes={team:k.default.object.isRequired,commandId:k.default.string.isRequired,commands:k.default.object,actions:k.default.shape({getCustomTeamCommands:k.default.func.isRequired,editCommand:k.default.func.isRequired}).isRequired},t.default=x},2273:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(239),o=n(r),s=a(238),l=n(s),i=a(240),d=n(i),u=a(242),c=n(u),m=a(241),f=n(m),p=a(21),g=n(p),h=a(13),_=n(h),v=a(697),E=a(244),b=a(248),k=a(2274),M=n(k),y=a(707),w=n(y),N=a(43),C=n(N),A=a(850),O=n(A),j=function(e){function t(e){(0,l.default)(this,t);var a=(0,d.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));a.handleIntegrationChange=a.handleIntegrationChange.bind(a),a.handleKeyPress=a.handleKeyPress.bind(a);var n=w.default.getCurrentId();return a.state={type:new URLSearchParams(a.props.location.search).get("type"),id:new URLSearchParams(a.props.location.search).get("id"),oauthApps:M.default.getOAuthApps(n),loading:!M.default.hasReceivedOAuthApps(n)},a}return(0,f.default)(t,e),(0,c.default)(t,null,[{key:"propTypes",get:function(){return{team:g.default.object,location:g.default.object,commands:g.default.object,loading:g.default.bool}}}]),(0,c.default)(t,[{key:"componentDidMount",value:function(){M.default.addChangeListener(this.handleIntegrationChange),window.addEventListener("keypress",this.handleKeyPress)}},{key:"componentWillUnmount",value:function(){M.default.removeChangeListener(this.handleIntegrationChange),window.removeEventListener("keypress",this.handleKeyPress)}},{key:"handleIntegrationChange",value:function(){var e=w.default.getCurrentId();this.setState({oauthApps:M.default.getOAuthApps(e),loading:!M.default.hasReceivedOAuthApps(e)})}},{key:"handleKeyPress",value:function(e){"Enter"===e.key&&b.browserHistory.push("/"+this.props.team.name+"/integrations/"+this.state.type)}},{key:"render",value:function(){var e=null,t=null,a=null;if(!0===this.props.loading)return _.default.createElement("div",null);if(this.state.type===C.default.Integrations.COMMAND)e=_.default.createElement(v.FormattedMessage,{id:"installed_commands.header",defaultMessage:"Slash Commands"}),t=_.default.createElement("p",null,_.default.createElement(v.FormattedHTMLMessage,{id:"add_command.doneHelp",defaultMessage:'Your slash command has been set up. The following token will be sent in the outgoing payload. Please use it to verify the request came from your Mattermost team (see <a href="https://docs.mattermost.com/developer/slash-commands.html">documentation</a> for further details).'})),a=_.default.createElement("p",{className:"word-break--all"},_.default.createElement(v.FormattedHTMLMessage,{id:"add_command.token",defaultMessage:"<b>Token</b>: {token}",values:{token:this.props.commands[this.state.id].token}}));else if(this.state.type===C.default.Integrations.INCOMING_WEBHOOK)e=_.default.createElement(v.FormattedMessage,{id:"installed_incoming_webhooks.header",defaultMessage:"Incoming Webhooks"}),t=_.default.createElement("p",null,_.default.createElement(v.FormattedHTMLMessage,{id:"add_incoming_webhook.doneHelp",defaultMessage:'Your incoming webhook has been set up. Please send data to the following URL (see <a href=\\"https://docs.mattermost.com/developer/webhooks-incoming.html\\">documentation</a> for further details).'})),a=_.default.createElement("p",{className:"word-break--all"},_.default.createElement(v.FormattedHTMLMessage,{id:"add_incoming_webhook.url",defaultMessage:"<b>URL</b>: {url}",values:{url:window.location.origin+"/hooks/"+this.state.id}}));else if(this.state.type===C.default.Integrations.OUTGOING_WEBHOOK)e=_.default.createElement(v.FormattedMessage,{id:"installed_outgoing_webhooks.header",defaultMessage:"Outgoing Webhooks"}),t=_.default.createElement("p",null,_.default.createElement(v.FormattedHTMLMessage,{id:"add_outgoing_webhook.doneHelp",defaultMessage:'Your outgoing webhook has been set up. The following token will be sent in the outgoing payload. Please use it to verify the request came from your Mattermost team (see <a href=\\"https://docs.mattermost.com/developer/webhooks-outgoing.html\\">documentation</a> for further details).'})),a=_.default.createElement("p",{className:"word-break--all"},_.default.createElement(v.FormattedHTMLMessage,{id:"add_outgoing_webhook.token",defaultMessage:"<b>Token</b>: {token}",values:{token:M.default.getOutgoingWebhook(this.props.team.id,this.state.id).token}}));else if(this.state.type===C.default.Integrations.OAUTH_APP){for(var n={},r=0;r<this.state.oauthApps.length;r++)if(this.state.oauthApps[r].id===this.state.id){n=this.state.oauthApps[r];break}n&&(e=_.default.createElement(v.FormattedMessage,{id:"installed_oauth_apps.header",defaultMessage:"OAuth 2.0 Applications"}),t=[],t.push(_.default.createElement("p",{key:"add_oauth_app.doneHelp"},_.default.createElement(v.FormattedHTMLMessage,{id:"add_oauth_app.doneHelp",defaultMessage:'Your OAuth 2.0 application has been set up. Please use the following Client ID and Client Secret when requesting authorization for your application (see <a href="https://docs.mattermost.com/developer/oauth-2-0-applications.html">documentation</a> for further details).'}))),t.push(_.default.createElement("p",{key:"add_oauth_app.clientId"},_.default.createElement(v.FormattedHTMLMessage,{id:"add_oauth_app.clientId",defaultMessage:"<b>Client ID:</b> {id}",values:{id:this.state.id}})," ",_.default.createElement("br",null),_.default.createElement(v.FormattedHTMLMessage,{id:"add_oauth_app.clientSecret",defaultMessage:"<b>Client Secret:</b> {secret}",values:{secret:n.client_secret}}))),t.push(_.default.createElement("p",{key:"add_oauth_app.doneUrlHelp"},_.default.createElement(v.FormattedHTMLMessage,{id:"add_oauth_app.doneUrlHelp",defaultMessage:"The following are your authorized redirect URL(s)."}))),a=_.default.createElement("p",{className:"word-break--all"},_.default.createElement(v.FormattedHTMLMessage,{id:"add_oauth_app.url",defaultMessage:"<b>URL(s)</b>: {url}",values:{url:n.callback_urls}})))}return _.default.createElement("div",{className:"backstage-content row"},_.default.createElement(O.default,null,_.default.createElement(E.Link,{to:"/"+this.props.team.name+"/integrations/"+this.state.type},e),_.default.createElement(v.FormattedMessage,{id:"integrations.add",defaultMessage:"Add"})),_.default.createElement("div",{className:"backstage-form backstage-form__confirmation"},_.default.createElement("h4",{className:"backstage-form__title"},_.default.createElement(v.FormattedMessage,{id:"integrations.successful",defaultMessage:"Setup Successful"})),t,a,_.default.createElement("div",{className:"backstage-form__footer"},_.default.createElement(E.Link,{className:"btn btn-primary",type:"submit",to:"/"+this.props.team.name+"/integrations/"+this.state.type},_.default.createElement(v.FormattedMessage,{id:"integrations.done",defaultMessage:"Done"})))))}}]),t}(_.default.Component);t.default=j},2274:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(108),o=n(r),s=a(752),l=n(s),i=a(239),d=n(i),u=a(238),c=n(u),m=a(242),f=n(m),p=a(240),g=n(p),h=a(241),_=n(h),v=a(743),E=n(v),b=a(247),k=n(b),M=function(e){function t(){(0,c.default)(this,t);var e=(0,g.default)(this,(t.__proto__||(0,d.default)(t)).call(this));return e.entities={},k.default.subscribe(function(){var t=k.default.getState().entities.integrations,a=e.entities;e.entities=t,t!==a&&e.emitChange()}),e}return(0,_.default)(t,e),(0,f.default)(t,[{key:"addChangeListener",value:function(e){this.on("changed",e)}},{key:"removeChangeListener",value:function(e){this.removeListener("changed",e)}},{key:"emitChange",value:function(){this.emit("changed")}},{key:"hasReceivedIncomingWebhooks",value:function(e){var t=k.default.getState().entities.integrations.incomingHooks||{},a=!1;return(0,l.default)(t).forEach(function(t){t.team_id===e&&(a=!0)}),a}},{key:"getIncomingWebhooks",value:function(e){var t=k.default.getState().entities.integrations.incomingHooks,a=[];return(0,l.default)(t).forEach(function(t){t.team_id===e&&a.push(t)}),a}},{key:"hasReceivedOutgoingWebhooks",value:function(e){var t=k.default.getState().entities.integrations.outgoingHooks,a=!1;return(0,l.default)(t).forEach(function(t){t.team_id===e&&(a=!0)}),a}},{key:"getOutgoingWebhooks",value:function(e){var t=k.default.getState().entities.integrations.outgoingHooks,a=[];return(0,l.default)(t).forEach(function(t){t.team_id===e&&a.push(t)}),a}},{key:"getOutgoingWebhook",value:function(e,t){return k.default.getState().entities.integrations.outgoingHooks[t]}},{key:"hasReceivedOAuthApps",value:function(){return(0,o.default)(k.default.getState().entities.integrations.oauthApps).length>0}},{key:"getOAuthApps",value:function(){return(0,l.default)(k.default.getState().entities.integrations.oauthApps)}}]),t}(E.default);t.default=new M},2275:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(239),o=n(r),s=a(238),l=n(s),i=a(242),d=n(i),u=a(240),c=n(u),m=a(241),f=n(m),p=a(21),g=n(p),h=a(13),_=n(h),v=a(697),E=a(713),b=n(E),k=a(698),M=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(k),y=a(2276),w=n(y),N=a(2277),C=n(N),A=function(e){function t(){return(0,l.default)(this,t),(0,c.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,d.default)(t,[{key:"renderCustomEmoji",value:function(){return"true"===window.mm_config.EnableCustomEmoji&&M.canCreateCustomEmoji(this.props.user)?_.default.createElement(w.default,{name:"emoji",parentLink:"/"+this.props.team.name,icon:"fa-smile-o",title:_.default.createElement(v.FormattedMessage,{id:"backstage_sidebar.emoji",defaultMessage:"Custom Emoji"})}):null}},{key:"renderIntegrations",value:function(){var e=window.mm_config,t=M.isSystemAdmin(this.props.user.roles);if("true"!==e.EnableIncomingWebhooks&&"true"!==e.EnableOutgoingWebhooks&&"true"!==e.EnableCommands&&"true"!==e.EnableOAuthServiceProvider)return null;if("false"!==e.EnableOnlyAdminIntegrations&&!t&&!b.default.isTeamAdmin(this.props.user.id,this.props.team.id))return null;var a=null;"true"===e.EnableIncomingWebhooks&&(a=_.default.createElement(C.default,{name:"incoming_webhooks",title:_.default.createElement(v.FormattedMessage,{id:"backstage_sidebar.integrations.incoming_webhooks",defaultMessage:"Incoming Webhooks"})}));var n=null;"true"===e.EnableOutgoingWebhooks&&(n=_.default.createElement(C.default,{name:"outgoing_webhooks",title:_.default.createElement(v.FormattedMessage,{id:"backstage_sidebar.integrations.outgoing_webhooks",defaultMessage:"Outgoing Webhooks"})}));var r=null;"true"===e.EnableCommands&&(r=_.default.createElement(C.default,{name:"commands",title:_.default.createElement(v.FormattedMessage,{id:"backstage_sidebar.integrations.commands",defaultMessage:"Slash Commands"})}));var o=null;return"true"!==e.EnableOAuthServiceProvider||!t&&"true"===e.EnableOnlyAdminIntegrations||(o=_.default.createElement(C.default,{name:"oauth2-apps",title:_.default.createElement(v.FormattedMessage,{id:"backstage_sidebar.integrations.oauthApps",defaultMessage:"OAuth 2.0 Applications"})})),_.default.createElement(w.default,{name:"integrations",parentLink:"/"+this.props.team.name,icon:"fa-link",title:_.default.createElement(v.FormattedMessage,{id:"backstage_sidebar.integrations",defaultMessage:"Integrations"})},a,n,r,o)}},{key:"render",value:function(){return _.default.createElement("div",{className:"backstage-sidebar"},_.default.createElement("ul",null,this.renderCustomEmoji(),this.renderIntegrations()))}}],[{key:"propTypes",get:function(){return{team:g.default.object.isRequired,user:g.default.object.isRequired}}}]),t}(_.default.Component);t.default=A},2276:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(239),o=n(r),s=a(238),l=n(s),i=a(242),d=n(i),u=a(240),c=n(u),m=a(241),f=n(m),p=a(21),g=n(p),h=a(13),_=n(h),v=a(244),E=function(e){function t(){return(0,l.default)(this,t),(0,c.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e=this.props,t=e.name,a=e.title,n=e.icon,r=e.parentLink,o=e.children,s=r+"/"+t;return _.default.createElement("li",{className:"backstage-sidebar__category"},_.default.createElement(v.NavLink,{to:s,className:"category-title",activeClassName:"category-title--active"},_.default.createElement("i",{className:"fa "+n}),_.default.createElement("span",{className:"category-title__text"},a)),_.default.createElement(v.Route,{path:s,render:function(){return _.default.createElement("ul",{className:"sections"},_.default.Children.map(o,function(e){return e?_.default.cloneElement(e,{parentLink:s}):e}))}}))}}],[{key:"propTypes",get:function(){return{name:g.default.string.isRequired,title:g.default.node.isRequired,icon:g.default.string.isRequired,parentLink:g.default.string,children:g.default.arrayOf(g.default.element)}}},{key:"defaultProps",get:function(){return{parentLink:"",children:[]}}},{key:"contextTypes",get:function(){return{router:g.default.object.isRequired}}}]),t}(_.default.Component);t.default=E},2277:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(239),o=n(r),s=a(238),l=n(s),i=a(242),d=n(i),u=a(240),c=n(u),m=a(241),f=n(m),p=a(21),g=n(p),h=a(13),_=n(h),v=a(244),E=function(e){function t(){return(0,l.default)(this,t),(0,c.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,d.default)(t,[{key:"getLink",value:function(){return this.props.parentLink+"/"+this.props.name}},{key:"render",value:function(){var e=this.props,t=e.title,a=e.subsection,n=e.children,r=this.getLink(),o=null;n.length>0&&(o=_.default.createElement("ul",{className:"subsections"},_.default.Children.map(n,function(e){return _.default.cloneElement(e,{parentLink:r,subsection:!0})})));var s="section";return a&&(s="subsection"),_.default.createElement("li",{className:s},_.default.createElement(v.NavLink,{className:s+"-title",activeClassName:s+"-title--active",to:r},_.default.createElement("span",{className:s+"-title__text"},t)),o)}}],[{key:"propTypes",get:function(){return{name:g.default.string.isRequired,title:g.default.node.isRequired,parentLink:g.default.string,subsection:g.default.bool,children:g.default.arrayOf(g.default.element)}}},{key:"defaultProps",get:function(){return{parentLink:"",subsection:!1,children:[]}}},{key:"contextTypes",get:function(){return{router:g.default.object.isRequired}}}]),t}(_.default.Component);t.default=E},2278:function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(239),o=n(r),s=a(238),l=n(s),i=a(242),d=n(i),u=a(240),c=n(u),m=a(241),f=n(m),p=a(21),g=n(p),h=a(13),_=n(h),v=a(697),E=a(244),b=a(43),k=function(t){function a(){return(0,l.default)(this,a),(0,c.default)(this,(a.__proto__||(0,o.default)(a)).apply(this,arguments))}return(0,f.default)(a,t),(0,d.default)(a,[{key:"render",value:function(){return this.props.team?_.default.createElement("div",{className:"backstage-navbar"},_.default.createElement(E.Link,{className:"backstage-navbar__back",to:"/"+this.props.team.name+"/channels/"+b.Constants.DEFAULT_CHANNEL},_.default.createElement("i",{className:"fa fa-angle-left"}),_.default.createElement("span",null,_.default.createElement(v.FormattedMessage,{id:"backstage_navbar.backToMattermost",defaultMessage:"Back to {siteName}",values:{siteName:e.window.mm_config.SiteName}})))):null}}],[{key:"propTypes",get:function(){return{team:g.default.object.isRequired}}}]),a}(_.default.Component);t.default=k}).call(t,a(22))},850:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(239),o=n(r),s=a(238),l=n(s),i=a(242),d=n(i),u=a(240),c=n(u),m=a(241),f=n(m),p=a(21),g=n(p),h=a(13),_=n(h),v=function(e){function t(){return(0,l.default)(this,t),(0,c.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e=[];return _.default.Children.forEach(this.props.children,function(t,a){0!==a&&e.push(_.default.createElement("span",{key:"divider"+a,className:"backstage-header__divider"},_.default.createElement("i",{className:"fa fa-angle-right"}))),e.push(t)}),_.default.createElement("div",{className:"backstage-header"},_.default.createElement("h1",null,e))}}],[{key:"propTypes",get:function(){return{children:g.default.node}}}]),t}(_.default.Component);t.default=v},851:function(e,t,a){"use strict";function n(e){return e.entities.integrations.incomingHooks}function r(e){return e.entities.integrations.outgoingHooks}function o(e){return e.entities.integrations.commands}function s(e){return e.entities.integrations.oauthApps}function l(e){return e.entities.integrations.systemCommands}Object.defineProperty(t,"__esModule",{value:!0}),t.getAutocompleteCommandsList=t.getAllCommands=t.getOutgoingHooksInCurrentTeam=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.getIncomingHooks=n,t.getOutgoingHooks=r,t.getCommands=o,t.getOAuthApps=s,t.getSystemCommands=l;var d=a(740),u=a(730),c=(t.getOutgoingHooksInCurrentTeam=(0,d.createSelector)(u.getCurrentTeamId,r,function(e,t){return Object.values(t).filter(function(t){return t.teamId===e})}),t.getAllCommands=(0,d.createSelector)(o,l,function(e,t){return i({},e,t)}));t.getAutocompleteCommandsList=(0,d.createSelector)(c,u.getCurrentTeamId,function(e,t){return Object.values(e).filter(function(e){return e&&(!e.team_id||e.team_id===t)&&e.auto_complete}).sort(function(e,t){return e.display_name.localeCompare(t.display_name)})})},873:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(44),o=n(r),s=a(749),l=n(s),i=a(239),d=n(i),u=a(238),c=n(u),m=a(242),f=n(m),p=a(240),g=n(p),h=a(241),_=n(h),v=a(21),E=n(v),b=a(13),k=n(b),M=a(802),y=n(M),w=function(e){function t(){return(0,c.default)(this,t),(0,g.default)(this,(t.__proto__||(0,d.default)(t)).apply(this,arguments))}return(0,_.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){var e=this.props,t=e.spinning,a=e.children,n=(0,l.default)(e,["spinning","children"]);return t?k.default.createElement("img",{className:"spinner-button__gif",src:y.default}):k.default.createElement("button",(0,o.default)({className:"btn btn-primary"},n),a)}}]),t}(b.PureComponent);w.defaultProps={spinning:!1},w.propTypes={children:E.default.node,spinning:E.default.bool.isRequired,onClick:E.default.func},t.default=w},923:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(239),o=n(r),s=a(238),l=n(s),i=a(242),d=n(i),u=a(240),c=n(u),m=a(241),f=n(m),p=a(21),g=n(p),h=a(13),_=n(h),v=a(244),E=a(698),b=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(E),k=a(732),M=n(k),y=function(e){function t(e){(0,l.default)(this,t);var a=(0,c.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return a.updateFilter=a.updateFilter.bind(a),a.state={filter:""},a}return(0,f.default)(t,e),(0,d.default)(t,[{key:"updateFilter",value:function(e){this.setState({filter:e.target.value})}},{key:"render",value:function(){var e=this.state.filter.toLowerCase(),t=void 0;this.props.loading?t=_.default.createElement(M.default,null):(t=_.default.Children.map(this.props.children,function(t){return _.default.cloneElement(t,{filter:e})}),0===t.length&&this.props.emptyText&&(t=_.default.createElement("span",{className:"backstage-list__item backstage-list__empty"},this.props.emptyText)));var a=null;return this.props.addLink&&this.props.addText&&(a=_.default.createElement(v.Link,{className:"add-link",to:this.props.addLink},_.default.createElement("button",{type:"button",className:"btn btn-primary"},_.default.createElement("span",null,this.props.addText)))),_.default.createElement("div",{className:"backstage-content"},_.default.createElement("div",{className:"backstage-header"},_.default.createElement("h1",null,this.props.header),a),_.default.createElement("div",{className:"backstage-filters"},_.default.createElement("div",{className:"backstage-filter__search"},_.default.createElement("i",{className:"fa fa-search"}),_.default.createElement("input",{type:"search",className:"form-control",placeholder:this.props.searchPlaceholder,value:this.state.filter,onChange:this.updateFilter,style:w.search}))),_.default.createElement("span",{className:"backstage-list__help"},this.props.helpText),_.default.createElement("div",{className:"backstage-list"},t))}}]),t}(_.default.Component);y.propTypes={children:g.default.node,header:g.default.node.isRequired,addLink:g.default.string,addText:g.default.node,emptyText:g.default.node,helpText:g.default.node,loading:g.default.bool.isRequired,searchPlaceholder:g.default.string},y.defaultProps={searchPlaceholder:b.localizeMessage("backstage_list.search","Search")},t.default=y;var w={search:{flexGrow:0,flexShrink:0}}},924:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(239),o=n(r),s=a(238),l=n(s),i=a(242),d=n(i),u=a(240),c=n(u),m=a(241),f=n(m),p=a(21),g=n(p),h=a(13),_=n(h),v=a(697),E=a(1228),b=n(E),k=function(e){function t(){return(0,l.default)(this,t),(0,c.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,d.default)(t,[{key:"triggerTitle",get:function(){return _.default.createElement(v.FormattedMessage,{id:"installed_integrations.delete",defaultMessage:"Delete"})}},{key:"modalTitle",get:function(){return _.default.createElement(v.FormattedMessage,{id:"integrations.delete.confirm.title",defaultMessage:"Delete Integration"})}},{key:"modalMessage",get:function(){return _.default.createElement("div",{className:"alert alert-warning"},_.default.createElement("i",{className:"fa fa-warning fa-margin--right"}),_.default.createElement(v.FormattedMessage,{id:this.props.messageId,defaultMessage:"This action permanently deletes the integration and breaks any integrations using it. Are you sure you want to delete it?"}))}},{key:"modalConfirmButton",get:function(){return _.default.createElement(v.FormattedMessage,{id:"integrations.delete.confirm.button",defaultMessage:"Delete"})}}]),t}(b.default);t.default=k,k.propTypes={messageId:g.default.string.isRequired,onDelete:g.default.func.isRequired}}});
//# sourceMappingURL=3.405da493dd3e8d79bc63.js.map